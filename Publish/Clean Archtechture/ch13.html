<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://windily-cloud.github.io/obsidian-publish/Publish/Clean%20Archtechture/ch13.html"><meta property="og:site_name" content="Windily Cloud"><meta property="og:title" content="Chap13. COMPONENT COHESION ç»„ä»¶èšåˆ"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-09-20T11:11:04.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2022-09-20T11:11:04.000Z"><title>Chap13. COMPONENT COHESION ç»„ä»¶èšåˆ | Windily Cloud</title><meta name="description" content="Windily Cloud's Blog">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/obsidian-publish/assets/style.12da8f21.css">
    <link rel="modulepreload" href="/obsidian-publish/assets/app.887b133c.js"><link rel="modulepreload" href="/obsidian-publish/assets/ch13.html.fc4a1701.js"><link rel="modulepreload" href="/obsidian-publish/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/obsidian-publish/assets/ch13.html.871f1a29.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.c7e76e53.js"><link rel="prefetch" href="/obsidian-publish/assets/home.html.f01af163.js"><link rel="prefetch" href="/obsidian-publish/assets/å¯¼èˆª.html.d24325cb.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.fc3247cd.js"><link rel="prefetch" href="/obsidian-publish/assets/afterword.html.279a3dae.js"><link rel="prefetch" href="/obsidian-publish/assets/ch1.html.ad67b7a0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch10.html.74f49c94.js"><link rel="prefetch" href="/obsidian-publish/assets/ch11.html.7b8b868f.js"><link rel="prefetch" href="/obsidian-publish/assets/ch12.html.0897d88d.js"><link rel="prefetch" href="/obsidian-publish/assets/ch14.html.9cf7c1a7.js"><link rel="prefetch" href="/obsidian-publish/assets/ch15.html.1ee0e012.js"><link rel="prefetch" href="/obsidian-publish/assets/ch16.html.b2dc5528.js"><link rel="prefetch" href="/obsidian-publish/assets/ch17.html.d50b6029.js"><link rel="prefetch" href="/obsidian-publish/assets/ch18.html.f9083031.js"><link rel="prefetch" href="/obsidian-publish/assets/ch19.html.a8daed86.js"><link rel="prefetch" href="/obsidian-publish/assets/ch2.html.f712f0c4.js"><link rel="prefetch" href="/obsidian-publish/assets/ch20.html.008de7bb.js"><link rel="prefetch" href="/obsidian-publish/assets/ch21.html.bc3946ee.js"><link rel="prefetch" href="/obsidian-publish/assets/ch22.html.dcd080ee.js"><link rel="prefetch" href="/obsidian-publish/assets/ch23.html.4bd6fad0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch24.html.5af7f550.js"><link rel="prefetch" href="/obsidian-publish/assets/ch25.html.cdcf732e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch26.html.d56c6b1b.js"><link rel="prefetch" href="/obsidian-publish/assets/ch27.html.1d0c5f03.js"><link rel="prefetch" href="/obsidian-publish/assets/ch28.html.a9585c5e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch29.html.7898d2ef.js"><link rel="prefetch" href="/obsidian-publish/assets/ch3.html.4e106aa0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch30.html.efd82950.js"><link rel="prefetch" href="/obsidian-publish/assets/ch31.html.054b22ad.js"><link rel="prefetch" href="/obsidian-publish/assets/ch32.html.25d75f30.js"><link rel="prefetch" href="/obsidian-publish/assets/ch33.html.058b06f6.js"><link rel="prefetch" href="/obsidian-publish/assets/ch34.html.61d3f411.js"><link rel="prefetch" href="/obsidian-publish/assets/ch4.html.a6691c1e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch5.html.326ac1a0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch6.html.b00c3f6a.js"><link rel="prefetch" href="/obsidian-publish/assets/ch7.html.4e35799e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch8.html.f553bf58.js"><link rel="prefetch" href="/obsidian-publish/assets/ch9.html.1abe47e0.js"><link rel="prefetch" href="/obsidian-publish/assets/part1.html.61a30e56.js"><link rel="prefetch" href="/obsidian-publish/assets/part2.html.c688cf00.js"><link rel="prefetch" href="/obsidian-publish/assets/part3.html.19a54833.js"><link rel="prefetch" href="/obsidian-publish/assets/part4.html.e97d623d.js"><link rel="prefetch" href="/obsidian-publish/assets/part5.html.59f213ed.js"><link rel="prefetch" href="/obsidian-publish/assets/part6.html.565d8d69.js"><link rel="prefetch" href="/obsidian-publish/assets/obsidainæ–‡æ¡£å¯¼å‡ºçš„æ–¹æ³•.html.8c97282e.js"><link rel="prefetch" href="/obsidian-publish/assets/ç¬”è®°åˆ†ç±»æ–¹æ³•çš„æ€è€ƒ.html.7a0981ad.js"><link rel="prefetch" href="/obsidian-publish/assets/æ‚è¯ï¼šä»æ„è¯†å½¢æ€åˆ†æè¥¿æ–¹ç–«æƒ….html.609d0549.js"><link rel="prefetch" href="/obsidian-publish/assets/è¯»æ¸…æ”¿åºœæ˜¯å¦åº”è¯¥ä¿®å»ºé“è·¯ä¸€æ–‡.html.0ce08377.js"><link rel="prefetch" href="/obsidian-publish/assets/404.html.cc115e5e.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.60ae3ce2.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.c09081fd.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.70634028.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.3b70efd7.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.f5a6049f.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.d91b9c1f.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.32852561.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.0a68a710.js"><link rel="prefetch" href="/obsidian-publish/assets/home.html.93b7cca5.js"><link rel="prefetch" href="/obsidian-publish/assets/å¯¼èˆª.html.a1c9d7de.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.0da27cdd.js"><link rel="prefetch" href="/obsidian-publish/assets/afterword.html.b850d04a.js"><link rel="prefetch" href="/obsidian-publish/assets/ch1.html.5aa5f6f6.js"><link rel="prefetch" href="/obsidian-publish/assets/ch10.html.413c371f.js"><link rel="prefetch" href="/obsidian-publish/assets/ch11.html.3cd7a242.js"><link rel="prefetch" href="/obsidian-publish/assets/ch12.html.175ce04d.js"><link rel="prefetch" href="/obsidian-publish/assets/ch14.html.199a9f38.js"><link rel="prefetch" href="/obsidian-publish/assets/ch15.html.5b8799e9.js"><link rel="prefetch" href="/obsidian-publish/assets/ch16.html.20b93b21.js"><link rel="prefetch" href="/obsidian-publish/assets/ch17.html.165fc3da.js"><link rel="prefetch" href="/obsidian-publish/assets/ch18.html.4cd429e5.js"><link rel="prefetch" href="/obsidian-publish/assets/ch19.html.3e2d64e7.js"><link rel="prefetch" href="/obsidian-publish/assets/ch2.html.384a9648.js"><link rel="prefetch" href="/obsidian-publish/assets/ch20.html.b1ad3804.js"><link rel="prefetch" href="/obsidian-publish/assets/ch21.html.58811bd6.js"><link rel="prefetch" href="/obsidian-publish/assets/ch22.html.44e934ae.js"><link rel="prefetch" href="/obsidian-publish/assets/ch23.html.d77e680e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch24.html.79a8927d.js"><link rel="prefetch" href="/obsidian-publish/assets/ch25.html.a6d9e7e0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch26.html.c53b41bf.js"><link rel="prefetch" href="/obsidian-publish/assets/ch27.html.fdbedd86.js"><link rel="prefetch" href="/obsidian-publish/assets/ch28.html.8d17578d.js"><link rel="prefetch" href="/obsidian-publish/assets/ch29.html.69ad75a7.js"><link rel="prefetch" href="/obsidian-publish/assets/ch3.html.ef8bfaee.js"><link rel="prefetch" href="/obsidian-publish/assets/ch30.html.d5d16d0e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch31.html.33b5c44c.js"><link rel="prefetch" href="/obsidian-publish/assets/ch32.html.6c12ea21.js"><link rel="prefetch" href="/obsidian-publish/assets/ch33.html.7adbcd24.js"><link rel="prefetch" href="/obsidian-publish/assets/ch34.html.c7a5cd99.js"><link rel="prefetch" href="/obsidian-publish/assets/ch4.html.f4b07606.js"><link rel="prefetch" href="/obsidian-publish/assets/ch5.html.0f2533d2.js"><link rel="prefetch" href="/obsidian-publish/assets/ch6.html.c64dc16e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch7.html.d8f304e4.js"><link rel="prefetch" href="/obsidian-publish/assets/ch8.html.ac3dd3f7.js"><link rel="prefetch" href="/obsidian-publish/assets/ch9.html.e8bdc588.js"><link rel="prefetch" href="/obsidian-publish/assets/part1.html.f20e95e2.js"><link rel="prefetch" href="/obsidian-publish/assets/part2.html.46fb949d.js"><link rel="prefetch" href="/obsidian-publish/assets/part3.html.37fde797.js"><link rel="prefetch" href="/obsidian-publish/assets/part4.html.e291bbe5.js"><link rel="prefetch" href="/obsidian-publish/assets/part5.html.7deee47f.js"><link rel="prefetch" href="/obsidian-publish/assets/part6.html.6126ed62.js"><link rel="prefetch" href="/obsidian-publish/assets/obsidainæ–‡æ¡£å¯¼å‡ºçš„æ–¹æ³•.html.f99ad030.js"><link rel="prefetch" href="/obsidian-publish/assets/ç¬”è®°åˆ†ç±»æ–¹æ³•çš„æ€è€ƒ.html.f2f4101a.js"><link rel="prefetch" href="/obsidian-publish/assets/æ‚è¯ï¼šä»æ„è¯†å½¢æ€åˆ†æè¥¿æ–¹ç–«æƒ….html.9eadd293.js"><link rel="prefetch" href="/obsidian-publish/assets/è¯»æ¸…æ”¿åºœæ˜¯å¦åº”è¯¥ä¿®å»ºé“è·¯ä¸€æ–‡.html.71c36bf1.js"><link rel="prefetch" href="/obsidian-publish/assets/404.html.24a96f75.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.b76fc3f0.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.ba71ba2a.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.103ba7cd.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.7d4c0d5f.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.b1a4c497.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.0c6eca16.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.394348dd.js"><link rel="prefetch" href="/obsidian-publish/assets/auto.56c9cb2e.js"><link rel="prefetch" href="/obsidian-publish/assets/index.1f644ee1.js"><link rel="prefetch" href="/obsidian-publish/assets/flowchart.parse.1479ec3f.js"><link rel="prefetch" href="/obsidian-publish/assets/mermaid.esm.min.0e041931.js"><link rel="prefetch" href="/obsidian-publish/assets/highlight.esm.9b852bc5.js"><link rel="prefetch" href="/obsidian-publish/assets/markdown.esm.77e8db25.js"><link rel="prefetch" href="/obsidian-publish/assets/math.esm.cb9d4be3.js"><link rel="prefetch" href="/obsidian-publish/assets/notes.esm.62c5f19d.js"><link rel="prefetch" href="/obsidian-publish/assets/reveal.esm.41ec5d7f.js"><link rel="prefetch" href="/obsidian-publish/assets/search.esm.04894411.js"><link rel="prefetch" href="/obsidian-publish/assets/zoom.esm.78977eba.js"><link rel="prefetch" href="/obsidian-publish/assets/VuePlayground.3cfc7758.js"><link rel="prefetch" href="/obsidian-publish/assets/photoswipe.esm.f594e77b.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/obsidian-publish/" class="brand"><img class="logo" src="/obsidian-publish/logo.svg" alt="Windily Cloud"><!----><span class="site-name hide-in-pad">Windily Cloud</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/obsidian-publish/" class="nav-link" aria-label="åšå®¢ä¸»é¡µ"><span class="icon iconfont icon-home"></span>åšå®¢ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/obsidian-publish/home.html" class="nav-link" aria-label="å›¾è°±"><span class="icon iconfont icon-home"></span>å›¾è°±<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://vuepress-theme-hope.github.io/v2/zh/" rel="noopener noreferrer" target="_blank" aria-label="ä¸»é¢˜æ–‡æ¡£" class="nav-link"><span class="icon iconfont icon-note"></span>ä¸»é¢˜æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/windily-cloud/obsidian-publish" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading clickable active"><span class="icon iconfont icon-folder"></span><a href="/obsidian-publish/" class="title">Vault</a><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-folder"></span><span class="title">è§é—»</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-folder"></span><span class="title">Obsidian</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-folder"></span><span class="title">Clean Archtechture</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/" class="nav-link sidebar-link sidebar-page" aria-label="README.md"><span class="icon iconfont icon-file"></span>README.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/afterword.html" class="nav-link sidebar-link sidebar-page" aria-label="afterword.md"><span class="icon iconfont icon-file"></span>afterword.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch1.html" class="nav-link sidebar-link sidebar-page" aria-label="ch1.md"><span class="icon iconfont icon-file"></span>ch1.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch10.html" class="nav-link sidebar-link sidebar-page" aria-label="ch10.md"><span class="icon iconfont icon-file"></span>ch10.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch11.html" class="nav-link sidebar-link sidebar-page" aria-label="ch11.md"><span class="icon iconfont icon-file"></span>ch11.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch12.html" class="nav-link sidebar-link sidebar-page" aria-label="ch12.md"><span class="icon iconfont icon-file"></span>ch12.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="ch13.md"><span class="icon iconfont icon-file"></span>ch13.md<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html#the-reuse-release-equivalence-principle-å¤ç”¨-å‘å¸ƒç­‰åŒåŸåˆ™" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="THE REUSE/RELEASE EQUIVALENCE PRINCIPLE å¤ç”¨/å‘å¸ƒç­‰åŒåŸåˆ™"><!---->THE REUSE/RELEASE EQUIVALENCE PRINCIPLE å¤ç”¨/å‘å¸ƒç­‰åŒåŸåˆ™<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html#the-common-closure-principle-å…±åŒé—­åŒ…åŸåˆ™" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="THE COMMON CLOSURE PRINCIPLE å…±åŒé—­åŒ…åŸåˆ™"><!---->THE COMMON CLOSURE PRINCIPLE å…±åŒé—­åŒ…åŸåˆ™<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html#similarity-with-srp-ä¸-srp-åŸåˆ™çš„ç›¸ä¼¼ç‚¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="SIMILARITY WITH SRP ä¸ SRP åŸåˆ™çš„ç›¸ä¼¼ç‚¹"><!---->SIMILARITY WITH SRP ä¸ SRP åŸåˆ™çš„ç›¸ä¼¼ç‚¹<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html#the-common-reuse-principle-å…±åŒå¤ç”¨åŸåˆ™" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="THE COMMON REUSE PRINCIPLE å…±åŒå¤ç”¨åŸåˆ™"><!---->THE COMMON REUSE PRINCIPLE å…±åŒå¤ç”¨åŸåˆ™<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html#relation-to-isp-ä¸-isp-åŸåˆ™çš„å…³ç³»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="RELATION TO ISP ä¸ ISP åŸåˆ™çš„å…³ç³»"><!---->RELATION TO ISP ä¸ ISP åŸåˆ™çš„å…³ç³»<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html#the-tension-diagram-for-component-cohesion-ç»„ä»¶èšåˆå¼ åŠ›å›¾" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="THE TENSION DIAGRAM FOR COMPONENT COHESION ç»„ä»¶èšåˆå¼ åŠ›å›¾"><!---->THE TENSION DIAGRAM FOR COMPONENT COHESION ç»„ä»¶èšåˆå¼ åŠ›å›¾<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html#conclusion-æœ¬ç« å°ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="CONCLUSION æœ¬ç« å°ç»“"><!---->CONCLUSION æœ¬ç« å°ç»“<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch14.html" class="nav-link sidebar-link sidebar-page" aria-label="ch14.md"><span class="icon iconfont icon-file"></span>ch14.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html" class="nav-link sidebar-link sidebar-page" aria-label="ch15.md"><span class="icon iconfont icon-file"></span>ch15.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch16.html" class="nav-link sidebar-link sidebar-page" aria-label="ch16.md"><span class="icon iconfont icon-file"></span>ch16.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch17.html" class="nav-link sidebar-link sidebar-page" aria-label="ch17.md"><span class="icon iconfont icon-file"></span>ch17.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch18.html" class="nav-link sidebar-link sidebar-page" aria-label="ch18.md"><span class="icon iconfont icon-file"></span>ch18.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch19.html" class="nav-link sidebar-link sidebar-page" aria-label="ch19.md"><span class="icon iconfont icon-file"></span>ch19.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch2.html" class="nav-link sidebar-link sidebar-page" aria-label="ch2.md"><span class="icon iconfont icon-file"></span>ch2.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch20.html" class="nav-link sidebar-link sidebar-page" aria-label="ch20.md"><span class="icon iconfont icon-file"></span>ch20.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch21.html" class="nav-link sidebar-link sidebar-page" aria-label="ch21.md"><span class="icon iconfont icon-file"></span>ch21.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch22.html" class="nav-link sidebar-link sidebar-page" aria-label="ch22.md"><span class="icon iconfont icon-file"></span>ch22.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch23.html" class="nav-link sidebar-link sidebar-page" aria-label="ch23.md"><span class="icon iconfont icon-file"></span>ch23.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch24.html" class="nav-link sidebar-link sidebar-page" aria-label="ch24.md"><span class="icon iconfont icon-file"></span>ch24.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch25.html" class="nav-link sidebar-link sidebar-page" aria-label="ch25.md"><span class="icon iconfont icon-file"></span>ch25.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch26.html" class="nav-link sidebar-link sidebar-page" aria-label="ch26.md"><span class="icon iconfont icon-file"></span>ch26.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch27.html" class="nav-link sidebar-link sidebar-page" aria-label="ch27.md"><span class="icon iconfont icon-file"></span>ch27.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch28.html" class="nav-link sidebar-link sidebar-page" aria-label="ch28.md"><span class="icon iconfont icon-file"></span>ch28.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch29.html" class="nav-link sidebar-link sidebar-page" aria-label="ch29.md"><span class="icon iconfont icon-file"></span>ch29.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch3.html" class="nav-link sidebar-link sidebar-page" aria-label="ch3.md"><span class="icon iconfont icon-file"></span>ch3.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch30.html" class="nav-link sidebar-link sidebar-page" aria-label="ch30.md"><span class="icon iconfont icon-file"></span>ch30.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch31.html" class="nav-link sidebar-link sidebar-page" aria-label="ch31.md"><span class="icon iconfont icon-file"></span>ch31.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch32.html" class="nav-link sidebar-link sidebar-page" aria-label="ch32.md"><span class="icon iconfont icon-file"></span>ch32.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch33.html" class="nav-link sidebar-link sidebar-page" aria-label="ch33.md"><span class="icon iconfont icon-file"></span>ch33.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch34.html" class="nav-link sidebar-link sidebar-page" aria-label="ch34.md"><span class="icon iconfont icon-file"></span>ch34.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch4.html" class="nav-link sidebar-link sidebar-page" aria-label="ch4.md"><span class="icon iconfont icon-file"></span>ch4.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch5.html" class="nav-link sidebar-link sidebar-page" aria-label="ch5.md"><span class="icon iconfont icon-file"></span>ch5.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch6.html" class="nav-link sidebar-link sidebar-page" aria-label="ch6.md"><span class="icon iconfont icon-file"></span>ch6.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch7.html" class="nav-link sidebar-link sidebar-page" aria-label="ch7.md"><span class="icon iconfont icon-file"></span>ch7.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch8.html" class="nav-link sidebar-link sidebar-page" aria-label="ch8.md"><span class="icon iconfont icon-file"></span>ch8.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch9.html" class="nav-link sidebar-link sidebar-page" aria-label="ch9.md"><span class="icon iconfont icon-file"></span>ch9.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part1.html" class="nav-link sidebar-link sidebar-page" aria-label="part1.md"><span class="icon iconfont icon-file"></span>part1.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part2.html" class="nav-link sidebar-link sidebar-page" aria-label="part2.md"><span class="icon iconfont icon-file"></span>part2.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part3.html" class="nav-link sidebar-link sidebar-page" aria-label="part3.md"><span class="icon iconfont icon-file"></span>part3.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part4.html" class="nav-link sidebar-link sidebar-page" aria-label="part4.md"><span class="icon iconfont icon-file"></span>part4.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part5.html" class="nav-link sidebar-link sidebar-page" aria-label="part5.md"><span class="icon iconfont icon-file"></span>part5.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part6.html" class="nav-link sidebar-link sidebar-page" aria-label="part6.md"><span class="icon iconfont icon-file"></span>part6.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/%E5%AF%BC%E8%88%AA.html" class="nav-link sidebar-link sidebar-page" aria-label="å¯¼èˆª.md"><span class="icon iconfont icon-file"></span>å¯¼èˆª.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Chap13. COMPONENT COHESION ç»„ä»¶èšåˆ</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" localizeddate="2022å¹´9æœˆ20æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://windily-cloud.github.io" target="_blank" rel="noopener noreferrer">Windily-Cloud</a></span><span property="author" content="Windily-Cloud"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´9æœˆ20æ—¥</span><meta property="datePublished" content="2022-09-20T11:03:58.000Z"></span><!----><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" localizeddate="2022å¹´9æœˆ20æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 16 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT16M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html#chap13-component-cohesion-ç»„ä»¶èšåˆ" class="router-link-active router-link-exact-active toc-link level1">Chap13. COMPONENT COHESION ç»„ä»¶èšåˆ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html#the-reuse-release-equivalence-principle-å¤ç”¨-å‘å¸ƒç­‰åŒåŸåˆ™" class="router-link-active router-link-exact-active toc-link level2">THE REUSE/RELEASE EQUIVALENCE PRINCIPLE å¤ç”¨/å‘å¸ƒç­‰åŒåŸåˆ™</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html#the-common-closure-principle-å…±åŒé—­åŒ…åŸåˆ™" class="router-link-active router-link-exact-active toc-link level2">THE COMMON CLOSURE PRINCIPLE å…±åŒé—­åŒ…åŸåˆ™</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html#the-common-reuse-principle-å…±åŒå¤ç”¨åŸåˆ™" class="router-link-active router-link-exact-active toc-link level2">THE COMMON REUSE PRINCIPLE å…±åŒå¤ç”¨åŸåˆ™</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html#the-tension-diagram-for-component-cohesion-ç»„ä»¶èšåˆå¼ åŠ›å›¾" class="router-link-active router-link-exact-active toc-link level2">THE TENSION DIAGRAM FOR COMPONENT COHESION ç»„ä»¶èšåˆå¼ åŠ›å›¾</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html#conclusion-æœ¬ç« å°ç»“" class="router-link-active router-link-exact-active toc-link level2">CONCLUSION æœ¬ç« å°ç»“</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="chap13-component-cohesion-ç»„ä»¶èšåˆ" tabindex="-1"><a class="header-anchor" href="#chap13-component-cohesion-ç»„ä»¶èšåˆ" aria-hidden="true">#</a> Chap13. COMPONENT COHESION ç»„ä»¶èšåˆ</h1><p>Which classes belong in which components? This is an important decision, and requires guidance from good software engineering principles. Unfortunately, over the years, this decision has been made in an ad hoc manner based almost entirely on context.</p><blockquote><p>é‚£ä¹ˆï¼Œç©¶ç«Ÿæ˜¯å“ªäº›ç±»åº”è¯¥è¢«ç»„åˆæˆä¸€ä¸ªç»„ä»¶å‘¢ï¼Ÿè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„è®¾è®¡å†³ç­–ï¼Œåº”è¯¥éµå¾ªä¼˜ç§€çš„è½¯ä»¶å·¥ç¨‹ç»éªŒæ¥è¡Œäº‹ã€‚ä½†ä¸å¹¸çš„æ˜¯ï¼Œå¾ˆå¤šå¹´ä»¥æ¥ï¼Œæˆ‘ä»¬å¯¹äºè¿™ä¹ˆé‡è¦çš„å†³ç­–ç»å¸¸æ˜¯æ ¹æ®å½“ä¸‹é¢ä¸´çš„å®é™…æƒ…å†µä¸´æ—¶æ‹è„‘é—¨å†³å®šçš„ã€‚</p></blockquote><p>In this chapter we will discuss the three principles of component cohesion:</p><blockquote><p>åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬ä¼šå…·ä½“è®¨è®ºä»¥ä¸‹ä¸‰ä¸ªä¸æ„å»ºç»„ä»¶ç›¸å…³çš„åŸºæœ¬åŸåˆ™ï¼š</p></blockquote><ul><li>REP: The Reuse/Release Equivalence Principle</li><li>CCP: The Common Closure Principle</li><li>CRP: The Common Reuse Principle</li></ul><hr><blockquote><ul><li>REPï¼šå¤ç”¨/å‘å¸ƒç­‰åŒåŸåˆ™ã€‚</li><li>CCPï¼šå…±åŒé—­åŒ…åŸåˆ™ã€‚</li><li>CRPï¼šå…±åŒå¤ç”¨åŸåˆ™ã€‚</li></ul></blockquote><h2 id="the-reuse-release-equivalence-principle-å¤ç”¨-å‘å¸ƒç­‰åŒåŸåˆ™" tabindex="-1"><a class="header-anchor" href="#the-reuse-release-equivalence-principle-å¤ç”¨-å‘å¸ƒç­‰åŒåŸåˆ™" aria-hidden="true">#</a> THE REUSE/RELEASE EQUIVALENCE PRINCIPLE å¤ç”¨/å‘å¸ƒç­‰åŒåŸåˆ™</h2><p>The granule of reuse is the granule of release.</p><blockquote><p>è½¯ä»¶å¤ç”¨çš„æœ€å°ç²’åº¦åº”ç­‰åŒäºå…¶å‘å¸ƒçš„æœ€å°ç²’åº¦ã€‚</p></blockquote><p>The last decade has seen the rise of a menagerie of module management tools, such as Maven, Leiningen, and RVM. These tools have grown in importance because, during that time, a vast number of reusable components and component libraries have been created. We are now living in the age of software reuseâ€”a fulfillment of one of the oldest promises of the object-oriented model.</p><blockquote><p>è¿‡å»åå¹´é—´ï¼Œæ¨¡å—ç®¡ç†å·¥å…·å¾—åˆ°äº†é•¿è¶³çš„å‘å±•ï¼Œä¾‹å¦‚ Mavenã€Leiningenã€RVM ç­‰ã€‚è¿™äº›å·¥å…·æ—¥ç›Šé‡è¦çš„åŸå› æ˜¯æ­£å¥½åœ¨è¿™åå¹´é—´å‡ºç°äº†å¤§é‡å¯å¤ç”¨çš„ç»„ä»¶å’Œç»„ä»¶åº“åº”è¯¥è¯´ï¼Œæˆ‘ä»¬ç°åœ¨è‡³å°‘å·²ç»å®ç°äº†é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ä¸ªåŸå§‹åˆè¡·â€”â€”è½¯ä»¶å¤ç”¨ã€‚</p></blockquote><p>The Reuse/Release Equivalence Principle (REP) is a principle that seems obvious, at least in hindsight. People who want to reuse software components cannot, and will not, do so unless those components are tracked through a release process and are given release numbers.</p><blockquote><p>REP åŸåˆ™åˆçœ‹èµ·æ¥å¥½åƒæ˜¯ä¸è¨€è‡ªæ˜çš„ã€‚æ¯•ç«Ÿå¦‚æœæƒ³è¦å¤ç”¨æŸä¸ªè½¯ä»¶ç»„ä»¶çš„è¯ï¼Œä¸€èˆ¬å°±å¿…é¡»è¦æ±‚è¯¥ç»„ä»¶çš„å¼€å‘ç”±æŸç§å‘å¸ƒæµç¨‹æ¥é©±åŠ¨ï¼Œå¹¶ä¸”æœ‰æ˜ç¡®çš„å‘å¸ƒç‰ˆæœ¬å·ã€‚</p></blockquote><p>This is not simply because, without release numbers, there would be no way to ensure that all the reused components are compatible with each other. Rather, it also reflects the fact that software developers need to know when new releases are coming, and which changes those new releases will bring.</p><blockquote><p>è¿™å…¶ä¸­çš„ä¸€ä¸ªåŸå› æ˜¯ï¼Œå¦‚æœæ²¡æœ‰è®¾å®šç‰ˆæœ¬å·ï¼Œæˆ‘ä»¬å°±æ²¡æœ‰åŠæ³•ä¿è¯æ‰€æœ‰è¢«å¤ç”¨çš„ç»„ä»¶ä¹‹é—´èƒ½å¤Ÿå½¼æ­¤å…¼å®¹ã€‚å¦å¤–æ›´é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œè½¯ä»¶å¼€å‘è€…å¿…é¡»è¦èƒ½å¤ŸçŸ¥é“è¿™äº›ç»„ä»¶çš„å‘å¸ƒæ—¶é—´ï¼Œä»¥åŠæ¯æ¬¡å‘å¸ƒå¸¦æ¥äº†å“ªäº›å˜æ›´ã€‚</p></blockquote><p>It is not uncommon for developers to be alerted about a new release and decide, based on the changes made in that release, to continue to use the old release instead. Therefore the release process must produce the appropriate notifications and release documentation so that users can make informed decisions about when and whether to integrate the new release.</p><blockquote><p>åªæœ‰è¿™æ ·ï¼Œè½¯ä»¶å·¥ç¨‹å¸ˆæ‰èƒ½åœ¨æ”¶åˆ°ç›¸å…³ç»„ä»¶æ–°ç‰ˆæœ¬å‘å¸ƒçš„é€šçŸ¥ä¹‹åï¼Œä¾æ®è¯¥å‘å¸ƒæ‰€å˜æ›´çš„å†…å®¹æ¥å†³å®šæ˜¯ç»§ç»­ä½¿ç”¨æ—§ç‰ˆæœ¬è¿˜æ˜¯åšäº›ç›¸åº”çš„å‡çº§ï¼Œè¿™æ˜¯å¾ˆåŸºæœ¬çš„è¦æ±‚ã€‚å› æ­¤ï¼Œç»„ä»¶çš„å‘å¸ƒè¿‡ç¨‹è¿˜å¿…é¡»è¦èƒ½å¤Ÿäº§ç”Ÿé€‚å½“çš„é€šçŸ¥å’Œå‘å¸ƒæ–‡æ¡£ï¼Œä»¥ä¾¿è®©å®ƒçš„ç”¨æˆ·æ ¹æ®è¿™äº›ä¿¡æ¯åšå‡ºæœ‰æ•ˆçš„å‡çº§å†³ç­–ã€‚</p></blockquote><p>From a software design and architecture point of view, this principle means that the classes and modules that are formed into a component must belong to a cohesive group. The component cannot simply consist of a random hodgepodge of classes and modules; instead, there must be some overarching theme or purpose that those modules all share.</p><blockquote><p>ä»è½¯ä»¶è®¾è®¡å’Œæ¶æ„è®¾æ±çš„è§’åº¦æ¥çœ‹ï¼ŒREP åŸåˆ™å°±æ˜¯æŒ‡ç»„ä»¶ä¸­çš„ç±»ä¸æ¨¡å—å¿…é¡»æ˜¯ å½¼æ­¤ç´§å¯†ç›¸å…³çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªç»„ä»¶ä¸èƒ½ç”±ä¸€ç»„æ¯«æ— å…³è”çš„ç±»å’Œæ¨¡å—ç»„æˆï¼Œå®ƒä»¬ä¹‹é—´åº”è¯¥æœ‰ä¸€ä¸ªå…±åŒçš„ä¸»é¢˜æˆ–è€…å¤§æ–¹å‘ã€‚</p></blockquote><p>Of course, this should be obvious. However, there is another way to look at this issue that is perhaps not quite so obvious. Classes and modules that are grouped together into a component should be releasable together. The fact that they share the same version number and the same release tracking, and are included under the same release documentation, should make sense both to the author and to the users.</p><blockquote><p>ä½†ä»å¦å¤–ä¸€ä¸ªè§†è§’æ¥çœ‹ï¼Œè¿™ä¸ªåŸåˆ™å°±æ²¡é‚£ä¹ˆç®€å•äº†ã€‚å› ä¸ºæ ¹æ®è¯¥åŸåˆ™ï¼Œä¸€ä¸ªç»„ä»¶ä¸­åŒ…å«çš„ç±»ä¸æ¨¡å—è¿˜åº”è¯¥æ˜¯å¯ä»¥åŒæ—¶å‘å¸ƒçš„ã€‚è¿™æ„å‘³ç€å®ƒä»¬å…±äº«ç›¸åŒçš„ç‰ˆæœ¬å·ä¸ç‰ˆæœ¬è·Ÿè¸ªï¼Œå¹¶ä¸”åŒ…å«åœ¨ç›¸åŒçš„å‘è¡Œæ–‡æ¡£ä¸­ï¼Œè¿™äº›éƒ½åº”è¯¥åŒæ—¶å¯¹è¯¥ç»„ä»¶çš„ä½œè€…å’Œç”¨æˆ·æœ‰æ„ä¹‰ã€‚</p></blockquote><p>This is weak advice: Saying that something should â€œmake senseâ€ is just a way of waving your hands in the air and trying to sound authoritative. The advice is weak because it is hard to precisely explain the glue that holds the classes and modules together into a single component. Weak though the advice may be, the principle itself is important, because violations are easy to detectâ€”they donâ€™t â€œmake sense.â€ If you violate the REP, your users will know, and they wonâ€™t be impressed with your architectural skills.</p><blockquote><p>è¿™å±‚å»ºè®®å¬èµ·æ¥å°±æ¯”è¾ƒè–„å¼±äº†ï¼Œæ¯•ç«Ÿè¯´æŸé¡¹äº‹æƒ…çš„å®‰æ’åº”è¯¥â€œåˆç†â€çš„ç¡®æœ‰ç‚¹å‡å¤§ç©ºï¼Œä¸ç€å®é™…ã€‚è¯¥å»ºè®®è–„å¼±çš„åŸå› æ˜¯å®ƒæ²¡æœ‰æ¸…æ™°åœ°å®šä¹‰å‡ºåˆ°åº•åº”è¯¥å¦‚ä½•å°†ç±»ä¸æ¨¡å—ç»„åˆæˆç»„ä»¶ã€‚ä½†å³ä½¿è¿™æ ·ï¼ŒREP åŸåˆ™çš„é‡è¦æ€§ä¹Ÿæ˜¯æ¯‹åº¸ç½®ç–‘çš„ï¼Œå› ä¸ºè¿åè¿™ä¸ªåŸåˆ™çš„åæœäº‹å®ä¸Šå¾ˆæ˜æ˜¾â€”â€”ä¸€å®šä¼šæœ‰äººæŠ±æ€¨ä½ çš„å®‰æ’â€œä¸åˆç†â€ï¼Œå¹¶è¿›è€Œå¯¹ä½ çš„è½¯ä»¶æ¶æ„èƒ½åŠ›äº§ç”Ÿæ€€ç–‘ã€‚</p></blockquote><p>The weakness of this principle is more than compensated for by the strength of the next two principles. Indeed, the CCP and the CRP strongly define this principle, but in a negative sense.</p><blockquote><p>è€Œä¸”ï¼ŒREP åŸåˆ™çš„ä¸Šè¿°è–„å¼±æ€§ä¹Ÿä¼šç”±ä»¥ä¸‹ä¸¤ä¸ªåŸåˆ™æ‰€è¡¥å……ã€‚CCP å’Œ CRP ä¼šä»ç›¸åçš„è§’åº¦å¯¹è¿™ä¸ªåŸåˆ™è¿›è¡Œæœ‰åŠ›çš„è¡¥å¿ã€‚</p></blockquote><h2 id="the-common-closure-principle-å…±åŒé—­åŒ…åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#the-common-closure-principle-å…±åŒé—­åŒ…åŸåˆ™" aria-hidden="true">#</a> THE COMMON CLOSURE PRINCIPLE å…±åŒé—­åŒ…åŸåˆ™</h2><p>Gather into components those classes that change for the same reasons and at the same times. Separate into different components those classes that change at different times and for different reasons.</p><blockquote><p>æˆ‘ä»¬åº”è¯¥å°†é‚£äº›ä¼šåŒæ—¶ä¿®æ”¹ï¼Œå¹¶ä¸”ä¸ºç›¸åŒç›®çš„è€Œä¿®æ”¹çš„ç±»æ”¾åˆ°åŒä¸€ä¸ªç»„ä»¶ä¸­ï¼Œè€Œå°†ä¸ä¼šåŒæ—¶ä¿®æ”¹ï¼Œå¹¶ä¸”ä¸ä¼šä¸ºäº†ç›¸åŒç›®çš„è€Œä¿®æ”¹çš„é‚£äº›ç±»æ”¾åˆ°ä¸åŒçš„ç»„ä»¶ä¸­ã€‚</p></blockquote><p>This is the Single Responsibility Principle restated for components. Just as the SRP says that a class should not contain multiples reasons to change, so the Common Closure Principle (CCP) says that a component should not have multiple reasons to change.</p><blockquote><p>è¿™å…¶å®æ˜¯ SRP åŸåˆ™åœ¨ç»„ä»¶å±‚é¢ä¸Šçš„å†åº¦é˜è¿°ã€‚æ­£å¦‚ SRP åŸåˆ™ä¸­æåˆ°çš„â€œä¸€ä¸ªç±»ä¸åº”è¯¥åŒæ—¶å­˜åœ¨ç€å¤šä¸ªå˜æ›´åŸå› â€ä¸€æ ·ï¼ŒCCP åŸåˆ™ä¹Ÿè®¤ä¸ºä¸€ä¸ªç»„ä»¶ä¸åº”è¯¥åŒæ—¶å­˜åœ¨ç€å¤šä¸ªå˜æ›´åŸå› ã€‚</p></blockquote><p>For most applications, maintainability is more important than reusability. If the code in an application must change, you would rather that all of the changes occur in one component, rather than being distributed across many components.1 If changes are confined to a single component, then we need to redeploy only the one changed component. Other components that donâ€™t depend on the changed component do not need to be revalidated or redeployed.</p><blockquote><p>å¯¹å¤§éƒ¨åˆ†åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œå¯ç»´æŠ¤æ€§çš„é‡è¦æ€§è¦è¿œè¿œé«˜äºå¯å¤ç”¨æ€§ã€‚å¦‚æœæŸç¨‹åºä¸­çš„ä»£ç å¿…é¡»è¦è¿›è¡ŒæŸäº›å˜æ›´ï¼Œé‚£ä¹ˆè¿™äº›å˜æ›´æœ€å¥½éƒ½ä½“ç°åœ¨åŒä¸€ä¸ªç»„ä»¶ä¸­ï¼Œè€Œä¸æ˜¯åˆ†å¸ƒäºå¾ˆå¤šä¸ªç»„ä»¶ä¸­æ‰“å› ä¸ºå¦‚æœè¿™äº›å˜æ›´éƒ½é›†ä¸­åœ¨åŒä¸€ä¸ªç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å°±åªéœ€è¦é‡æ–°éƒ¨ç½²è¯¥ç»„ä»¶ï¼Œå…¶ä»–ç»„ä»¶åˆ™ä¸éœ€è¦è¢«é‡æ–°éªŒè¯ã€é‡æ–°éƒ¨ç½²äº†ã€‚</p></blockquote><p>The CCP prompts us to gather together in one place all the classes that are likely to change for the same reasons. If two classes are so tightly bound, either physically or conceptually, that they always change together, then they belong in the same component. This minimizes the workload related to releasing, revalidating, and redeploying the software.</p><blockquote><p>æ€»è€Œè¨€ä¹‹ï¼ŒCCP çš„ä¸»è¦ä½œç”¨å°±æ˜¯æç¤ºæˆ‘ä»¬è¦å°†æ‰€æœ‰å¯èƒ½ä¼šè¢«ä¸€èµ·ä¿®æ”¹çš„ç±»é›†ä¸­åœ¨ä¸€å¤„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸¤ä¸ªç±»ç´§å¯†ç›¸å…³ï¼Œä¸ç®¡æ˜¯æºä»£ç å±‚é¢è¿˜æ˜¯æŠ½è±¡ç†å¿µå±‚é¢ï¼Œæ°¸è¿œéƒ½ä¼šè¢«ä¸€èµ·ä¿®æ”¹ï¼Œé‚£ä¹ˆå®ƒä»¬å°±åº”è¯¥è¢«å½’å±ä¸ºåŒä¸€ä¸ªç»„ä»¶ã€‚é€šè¿‡éµå®ˆè¿™ä¸ªåŸåˆ™ï¼Œæˆ‘ä»¬å°±å¯ä»¥æœ‰æ•ˆåœ°é™ä½å› è½¯ä»¶å‘å¸ƒã€éªŒè¯åŠéƒ¨ç½²æ‰€å¸¦æ¥çš„å·¥ä½œå‹åŠ›ã€‚</p></blockquote><p>This principle is closely associated with the Open Closed Principle (OCP). Indeed, it is â€œclosureâ€ in the OCP sense of the word that the CCP addresses. The OCP states that classes should be closed for modification but open for extension. Because 100% closure is not attainable, closure must be strategic. We design our classes such that they are closed to the most common kinds of changes that we expect or have experienced.</p><blockquote><p>å¦å¤– CCP åŸåˆ™å’Œå¼€é—­åŸåˆ™ï¼ˆOCPï¼‰ä¹Ÿæ˜¯ç´§å¯†ç›¸å…³çš„ã€‚CCP è®¨è®ºçš„å°±æ˜¯ OCP ä¸­æ‰€æŒ‡çš„â€œé—­åŒ…â€ã€‚OCP åŸåˆ™è®¤ä¸ºä¸€ä¸ªç±»åº”è¯¥ä¾¿äºæ‰©å±•ï¼Œè€ŒæŠ—æ‹’ä¿®æ”¹ã€‚ç”±äº 100% çš„é—­åŒ…æ˜¯ä¸å¯èƒ½çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½æˆ˜ç•¥æ€§åœ°é€‰æ‹©é—­åŒ…èŒƒå›´ã€‚åœ¨è®¾è®¡ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å†å²ç»éªŒå’Œé¢„æµ‹èƒ½åŠ›ï¼Œå°½å¯èƒ½åœ°å°†éœ€è¦è¢«ä¸€åŒå˜æ›´çš„é‚£äº›ç‚¹èšåˆåœ¨ä¸€èµ·ã€‚</p></blockquote><p>The CCP amplifies this lesson by gathering together into the same component those classes that are closed to the same types of changes. Thus, when a change in requirements comes along, that change has a good chance of being restricted to a minimal number of components.</p><blockquote><p>å¯¹äº CCPï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šåšè¿›ä¸€æ­¥çš„å»¶ä¼¸ï¼Œå³å¯ä»¥å°†æŸä¸€ç±»å˜æ›´æ‰€æ¶‰åŠçš„æ‰€æœ‰ç±»å°½é‡èšåˆåœ¨ä¸€å¤„ã€‚è¿™æ ·å½“æ­¤ç±»å˜æ›´å‡ºç°æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥æœ€å¤§é™åº¦åœ°åšåˆ°ä½¿è¯¥ç±»å˜æ›´åªå½±å“åˆ°æœ‰é™çš„ç›¸å…³ç»„ä»¶ã€‚</p></blockquote><h3 id="similarity-with-srp-ä¸-srp-åŸåˆ™çš„ç›¸ä¼¼ç‚¹" tabindex="-1"><a class="header-anchor" href="#similarity-with-srp-ä¸-srp-åŸåˆ™çš„ç›¸ä¼¼ç‚¹" aria-hidden="true">#</a> SIMILARITY WITH SRP ä¸ SRP åŸåˆ™çš„ç›¸ä¼¼ç‚¹</h3><p>As stated earlier, the CCP is the component form of the SRP. The SRP tells us to separate methods into different classes, if they change for different reasons. The CCP tells us to separate classes into different components, if they change for different reasons. Both principles can be summarized by the following sound bite:</p><blockquote><p>å¦‚å‰æ‰€è¿°ï¼ŒCCP åŸåˆ™å®é™…ä¸Šå°±æ˜¯ SRP åŸåˆ™çš„ç»„ä»¶ç‰ˆã€‚åœ¨ SRP åŸåˆ™çš„æŒ‡å¯¼ä¸‹ï¼Œæˆ‘ä»¬å°†ä¼šæŠŠå˜æ›´åŸå› ä¸åŒçš„å‡½æ•°æ”¾å…¥ä¸åŒçš„ç±»ä¸­ã€‚è€Œ CCP åŸåˆ™æŒ‡å¯¼æˆ‘ä»¬åº”è¯¥å°†å˜æ›´åŸå› ä¸åŒçš„ç±»æ”¾å…¥ä¸åŒçš„ç»„ä»¶ä¸­ã€‚ç®€è€Œè¨€ä¹‹ï¼Œè¿™ä¸¤ä¸ªåŸåˆ™éƒ½å¯ä»¥ç”¨ä»¥ä¸‹ä¸€å¥ç®€çŸ­çš„è¯æ¥æ¦‚æ‹¬ï¼š</p></blockquote><p>Gather together those things that change at the same times and for the same reasons. Separate those things that change at different times or for different reasons.</p><blockquote><p>å°†ç”±äºç›¸åŒåŸå› è€Œä¿®æ”¹ï¼Œå¹¶ä¸”éœ€è¦åŒæ—¶ä¿®æ”¹çš„ä¸œè¥¿æ”¾åœ¨ä¸€èµ·ï¼Œå°†ç”±äºä¸åŒåŸå› è€Œä¿®æ”¹ï¼Œå¹¶ä¸”ä¸åŒæ—¶ä¿®æ”¹çš„ä¸œè¥¿åˆ†å¼€ã€‚</p></blockquote><h2 id="the-common-reuse-principle-å…±åŒå¤ç”¨åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#the-common-reuse-principle-å…±åŒå¤ç”¨åŸåˆ™" aria-hidden="true">#</a> THE COMMON REUSE PRINCIPLE å…±åŒå¤ç”¨åŸåˆ™</h2><p>Donâ€™t force users of a component to depend on things they donâ€™t need.</p><blockquote><p>ä¸è¦å¼ºè¿«ä¸€ä¸ªç»„ä»¶çš„ç”¨æˆ·ä¾èµ–ä»–ä»¬ä¸éœ€è¦çš„ä¸œè¥¿ã€‚</p></blockquote><p>The Common Reuse Principle (CRP) is yet another principle that helps us to decide which classes and modules should be placed into a component. It states that classes and modules that tend to be reused together belong in the same component.</p><blockquote><p>å…±åŒå¤ç”¨åŸåˆ™ï¼ˆCRPï¼‰æ˜¯å¦å¤–ä¸€ä¸ªå¸®åŠ©æˆ‘ä»¬å†³ç­–ç±»å’Œæ¨¡å—å½’å±äºå“ªä¸€ä¸ªç»„ä»¶çš„åŸåˆ™ã€‚è¯¥åŸåˆ™å»ºè®®æˆ‘ä»¬å°†ç»å¸¸å…±åŒå¤ç”¨çš„ç±»å’Œæ¨¡å—æ”¾åœ¨åŒä¸€ä¸ªç»„ä»¶ä¸­ã€‚</p></blockquote><p>Classes are seldom reused in isolation. More typically, reusable classes collaborate with other classes that are part of the reusable abstraction. The CRP states that these classes belong together in the same component. In such a component we would expect to see classes that have lots of dependencies on each other.</p><blockquote><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œç±»å¾ˆå°‘ä¼šè¢«å•ç‹¬å¤ç”¨ã€‚æ›´å¸¸è§çš„æƒ…å†µæ˜¯å¤šä¸ªç±»åŒæ—¶ä½œä¸ºæŸä¸ªå¯å¤ç”¨çš„æŠ½è±¡å®šä¹‰è¢«å…±åŒå¤ç”¨ã€‚CRP åŸåˆ™æŒ‡å¯¼æˆ‘ä»¬å°†è¿™äº›ç±»æ”¾åœ¨åŒä¸€ä¸ªç»„ä»¶ä¸­ï¼Œè€Œåœ¨è¿™æ ·çš„ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥é¢„è§åˆ°ä¼šå­˜åœ¨ç€è®¸å¤šäº’ç›¸ä¾èµ–çš„ç±»ã€‚</p></blockquote><p>A simple example might be a container class and its associated iterators. These classes are reused together because they are tightly coupled to each other. Thus they ought to be in the same component.</p><blockquote><p>ä¸€ä¸ªç®€å•çš„ä¾‹å­å°±æ˜¯å®¹å™¨ç±»ä¸å…¶ç›¸å…³çš„éå†å™¨ç±»ï¼Œè¿™äº›ç±»ä¹‹é—´é€šå¸¸æ˜¯ç´§å¯†ç›¸å…³çš„ï¼Œä¸€èˆ¬ä¼šè¢«å…±åŒå¤ç”¨ï¼Œå› æ­¤åº”è¯¥è¢«æ”¾ç½®åœ¨åŒä¸€ä¸ªç»„ä»¶ä¸­ã€‚</p></blockquote><p>But the CRP tells us more than just which classes to put together into a component: It also tells us which classes not to keep together in a component. When one component uses another, a dependency is created between the components. Perhaps the using component uses only one class within the used componentâ€”but that still doesnâ€™t weaken the dependency. The using component still depends on the used component.</p><blockquote><p>ä½†æ˜¯ CRP çš„ä½œç”¨ä¸ä»…æ˜¯å‘Šè¯‰æˆ‘ä»¬åº”è¯¥å°†å“ªäº›ç±»æ”¾åœ¨ä¸€èµ·ï¼Œæ›´é‡è¦çš„æ˜¯è¦å‘Šè¯‰æˆ‘ä»¬åº”è¯¥å°†å“ªäº›ç±»åˆ†å¼€ã€‚å› ä¸ºæ¯å½“ä¸€ä¸ªç»„ä»¶å¼•ç”¨äº†å¦ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œå°±ç­‰äºå¢åŠ äº†ä¸€æ¡ä¾èµ–å…³ç³»ã€‚è™½ç„¶è¿™ä¸ªå¼•ç”¨å…³ç³»ä»…æ¶‰åŠè¢«å¼•ç”¨ç»„ä»¶ä¸­çš„ä¸€ä¸ªç±»ï¼Œä½†å®ƒæ‰€å¸¦æ¥çš„ä¾èµ–å…³ç³»ä¸æ¯«æ²¡æœ‰å‡å¼±ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¼•ç”¨ç»„ä»¶å·²ç„¶ä¾èµ–äºè¢«å¼•ç”¨ç»„ä»¶äº†ã€‚</p></blockquote><p>Because of that dependency, every time the used component is changed, the using component will likely need corresponding changes. Even if no changes are necessary to the using component, it will likely still need to be recompiled, revalidated, and redeployed. This is true even if the using component doesnâ€™t care about the change made in the used component.</p><blockquote><p>ç”±äºè¿™ç§ä¾èµ–å…³ç³»çš„å­˜åœ¨ï¼Œæ¯å½“è¢«å¼•ç”¨ç»„ä»¶å‘ç”Ÿå˜æ›´æ—¶ï¼Œå¼•ç”¨å®ƒçš„ç»„ä»¶ä¸€èˆ¬ä¹Ÿéœ€è¦åšå‡ºç›¸åº”çš„å˜æ›´ã€‚å³ä½¿å®ƒä»¬ä¸éœ€è¦è¿›è¡Œä»£ç çº§çš„å˜æ›´ï¼Œä¸€èˆ¬ä¹Ÿå…ä¸äº†éœ€è¦è¢«é‡æ–°ç¼–è¯‘ã€éªŒè¯å’Œéƒ¨ç½²ã€‚å“ªæ€•å¼•ç”¨ç»„ä»¶æ ¹æœ¬ä¸å…³å¿ƒè¢«å¼•ç”¨ç»„ä»¶ä¸­çš„å˜æ›´ï¼Œä¹Ÿè¦å¦‚æ­¤ã€‚</p></blockquote><p>Thus when we depend on a component, we want to make sure we depend on every class in that component. Put another way, we want to make sure that the classes that we put into a component are inseparableâ€”that it is impossible to depend on some and not on the others. Otherwise, we will be redeploying more components than is necessary, and wasting significant effort.</p><blockquote><p>å› æ­¤ï¼Œå½“æˆ‘ä»¬å†³å®šè¦ä¾èµ–æŸä¸ªç»„ä»¶æ—¶ï¼Œæœ€å¥½æ˜¯å®é™…éœ€è¦ä¾èµ–è¯¥ç»„ä»¶ä¸­çš„æ¯ä¸ªç±»ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›ç»„ä»¶ä¸­çš„æ‰€æœ‰ç±»æ˜¯ä¸èƒ½æ‹†åˆ†çš„ï¼Œå³ä¸åº”è¯¥å‡ºç°åˆ«äººåªéœ€è¦ä¾èµ–å®ƒçš„æŸå‡ ä¸ªç±»è€Œä¸éœ€è¦å…¶ä»–ç±»çš„æƒ…å†µã€‚å¦åˆ™ï¼Œæˆ‘ä»¬åç»­å°±ä¼šæµªè´¹ä¸å°‘æ—¶é—´ä¸ç²¾åŠ›æ¥åšä¸å¿…è¦çš„ç»„ä»¶éƒ¨ç½²ã€‚</p></blockquote><p>Therefore the CRP tells us more about which classes shouldnâ€™t be together than about which classes should be together. The CRP says that classes that are not tightly bound to each other should not be in the same component.</p><blockquote><p>å› æ­¤åœ¨ CRP åŸåˆ™ä¸­ï¼Œå…³äºå“ªäº›ç±»ä¸åº”è¯¥è¢«æ”¾åœ¨ä¸€èµ·çš„å»ºè®®æ˜¯å…¶æ›´ä¸ºé‡è¦çš„å†…å®¹ã€‚ç®€è€Œè¨€ä¹‹ï¼ŒCRP åŸåˆ™å®é™…ä¸Šæ˜¯åœ¨æŒ‡å¯¼æˆ‘ä»¬ï¼šä¸æ˜¯ç´§å¯†ç›¸è¿çš„ç±»ä¸åº”è¯¥è¢«æ”¾åœ¨åŒä¸€ä¸ªç»„ä»¶é‡Œã€‚</p></blockquote><h3 id="relation-to-isp-ä¸-isp-åŸåˆ™çš„å…³ç³»" tabindex="-1"><a class="header-anchor" href="#relation-to-isp-ä¸-isp-åŸåˆ™çš„å…³ç³»" aria-hidden="true">#</a> RELATION TO ISP ä¸ ISP åŸåˆ™çš„å…³ç³»</h3><p>The CRP is the generic version of the ISP. The ISP advises us not to depend on classes that have methods we donâ€™t use. The CRP advises us not to depend on components that have classes we donâ€™t use.</p><blockquote><p>CRP åŸåˆ™å®é™…ä¸Šæ˜¯ LSP åŸåˆ™çš„ä¸€ä¸ªæ™®é€‚ç‰ˆã€‚ISP åŸåˆ™æ˜¯å»ºè®®æˆ‘ä»¬ä¸è¦ä¾èµ–å¸¦æœ‰ä¸éœ€è¦çš„å‡½æ•°çš„ç±»ï¼Œè€Œ CRP åŸåˆ™åˆ™æ˜¯å»ºè®®æˆ‘ä»¬ä¸è¦ä¾èµ–å¸¦æœ‰ä¸éœ€è¦çš„ç±»çš„ç»„ä»¶ã€‚ä¸è¦ä¾èµ–ä¸éœ€è¦ç”¨åˆ°çš„ä¸œè¥¿ã€‚</p></blockquote><p>All of this advice can be reduced to a single sound bite:</p><p>Donâ€™t depend on things you donâ€™t need.</p><h2 id="the-tension-diagram-for-component-cohesion-ç»„ä»¶èšåˆå¼ åŠ›å›¾" tabindex="-1"><a class="header-anchor" href="#the-tension-diagram-for-component-cohesion-ç»„ä»¶èšåˆå¼ åŠ›å›¾" aria-hidden="true">#</a> THE TENSION DIAGRAM FOR COMPONENT COHESION ç»„ä»¶èšåˆå¼ åŠ›å›¾</h2><p>You may have already realized that the three cohesion principles tend to fight each other. The REP and CCP are inclusive principles: Both tend to make components larger. The CRP is an exclusive principle, driving components to be smaller. It is the tension between these principles that good architects seek to resolve.</p><blockquote><p>è¯»åˆ°è¿™é‡Œï¼Œè¯»è€…å¯èƒ½å·²ç»æ„è¯†åˆ°ä¸Šè¿°ä¸‰ä¸ªåŸåˆ™ä¹‹é—´å½¼æ­¤å­˜åœ¨ç€ç«äº‰å…³ç³»ã€‚REP å’Œ CCP åŸåˆ™æ˜¯é»åˆæ€§åŸåˆ™ï¼Œå®ƒä»¬ä¼šè®©ç»„ä»¶å˜å¾—æ›´å¤§ï¼Œè€Œ CRP åŸåˆ™æ˜¯æ’é™¤æ€§åŸåˆ™ï¼Œå®ƒä¼šå°½é‡è®©ç»„ä»¶å˜å°ã€‚è½¯ä»¶æ¶æ„å¸ˆçš„ä»»åŠ¡å°±æ˜¯è¦åœ¨è¿™ä¸‰ä¸ªåŸåˆ™ä¸­é—´è¿›è¡Œå–èˆã€‚</p></blockquote><p>Figure 13.1 is a tension diagram2 that shows how the three principles of cohesion interact with each other. The edges of the diagram describe the cost of abandoning the principle on the opposite vertex.</p><blockquote><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å›¾ 13.1ã€‚è¿™æ˜¯ä¸€å¼ ç»„ä»¶èšåˆä¸‰å¤§åŸåˆ™çš„å¼ åŠ›å›¾ï¼Œå›¾çš„è¾¹çº¿æ‰€æè¿°çš„æ˜¯å¿½è§†å¯¹åº”åŸåˆ™çš„åæœã€‚</p></blockquote><!----><p>An architect who focuses on just the REP and CRP will find that too many components are impacted when simple changes are made. In contrast, an architect who focuses too strongly on the CCP and REP will cause too many unneeded releases to be generated.</p><blockquote><p>ç®€è€Œè¨€ä¹‹ï¼Œåªå…³æ³¨ REP å’Œ CRP çš„è½¯ä»¶æ¶æ„å¸ˆä¼šå‘ç°ï¼Œå³ä½¿æ˜¯ç®€å•çš„å˜æ›´ä¹Ÿä¼šåŒæ—¶å½±å“åˆ°è®¸å¤šç»„ä»¶ã€‚ç›¸åï¼Œå¦‚æœè½¯ä»¶æ¶æ„å¸ˆè¿‡äºå…³æ³¨ CCP å’Œ REPï¼Œåˆ™ä¼šå¯¼è‡´å¾ˆå¤šä¸å¿…è¦çš„å‘å¸ƒã€‚</p></blockquote><p>A good architect finds a position in that tension triangle that meets the current concerns of the development team, but is also aware that those concerns will change over time. For example, early in the development of a project, the CCP is much more important than the REP, because develop-ability is more important than reuse.</p><blockquote><p>ä¼˜ç§€çš„è½¯ä»¶æ¶æ„å¸ˆåº”è¯¥èƒ½åœ¨ä¸Šè¿°ä¸‰è§’å¼ åŠ›åŒºåŸŸä¸­å®šä½ä¸€ä¸ªæœ€é€‚åˆç›®å‰ç ”å‘å›¢é˜ŸçŠ¶æ€çš„ä½ç½®ï¼ŒåŒæ—¶ä¹Ÿä¼šæ ¹æ®æ—¶é—´ä¸åœè°ƒæ•´ã€‚ä¾‹å¦‚åœ¨é¡¹ç›®æ—©æœŸï¼ŒCCP åŸåˆ™ä¼šæ¯” REP åŸåˆ™æ›´é‡è¦ï¼Œå› ä¸ºåœ¨è¿™ä¸€é˜¶æ®µç ”å‘é€Ÿåº¦æ¯”å¤ç”¨æ€§æ›´é‡è¦ã€‚</p></blockquote><p>Generally, projects tend to start on the right hand side of the triangle, where the only sacrifice is reuse. As the project matures, and other projects begin to draw from it, the project will slide over to the left. This means that the component structure of a project can vary with time and maturity. It has more to do with the way that project is developed and used, than with what the project actually does.</p><blockquote><p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªè½¯ä»¶é¡¹ç›®çš„é‡å¿ƒä¼šä»è¯¥ä¸‰è§’åŒºåŸŸçš„å³ä¾§å¼€å§‹ï¼Œå…ˆæœŸä¸»è¦ç‰ºç‰²çš„æ˜¯å¤ç”¨æ€§ã€‚ç„¶åï¼Œéšç€é¡¹ç›®é€æ¸æˆç†Ÿï¼Œå…¶ä»–é¡¹ç›®ä¼šé€æ¸å¼€å§‹å¯¹å…¶äº§ç”Ÿä¾èµ–ï¼Œé¡¹ç›®é‡å¿ƒå°±ä¼šé€æ¸å‘è¯¥äºŒè§’åŒºåŸŸçš„å·¦ä¾§æ»‘åŠ¨ã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªé¡¹ç›®åœ¨ç»„ä»¶ç»“æ„è®¾è®¡ä¸Šçš„é‡å¿ƒæ˜¯æ ¹æ®è¯¥é¡¹ç›®çš„å¼€å‘æ—¶é—´å’Œæˆç†Ÿåº¦ä¸æ–­å˜åŠ¨çš„ï¼Œæˆ‘ä»¬å¯¹ç»„ä»¶ç»“æ„çš„å®‰æ’ä¸»è¦ä¸é¡¹ç›®å¼€å‘çš„è¿›åº¦å’Œå®ƒè¢«ä½¿ç”¨çš„æ–¹å¼æœ‰å…³ï¼Œä¸é¡¹ç›®æœ¬èº«åŠŸèƒ½çš„å…³ç³»å…¶å®å¾ˆå°ã€‚</p></blockquote><h2 id="conclusion-æœ¬ç« å°ç»“" tabindex="-1"><a class="header-anchor" href="#conclusion-æœ¬ç« å°ç»“" aria-hidden="true">#</a> CONCLUSION æœ¬ç« å°ç»“</h2><p>In the past, our view of cohesion was much simpler than the REP, CCP, and CRP implied. We once thought that cohesion was simply the attribute that a module performs one, and only one, function. However, the three principles of component cohesion describe a much more complex variety of cohesion. In choosing the classes to group together into components, we must consider the opposing forces involved in reusability and develop-ability. Balancing these forces with the needs of the application is nontrivial. Moreover, the balance is almost always dynamic. That is, the partitioning that is appropriate today might not be appropriate next year. As a consequence, the composition of the components will likely jitter and evolve with time as the focus of the project changes from develop-ability to reusability.</p><blockquote><p>è¿‡å»ï¼Œæˆ‘ä»¬å¯¹ç»„ä»¶åœ¨æ„å»ºè¿‡ç¨‹ä¸­è¦éµå¾ªçš„ç»„åˆåŸåˆ™çš„ç†è§£è¦æ¯” REPã€CCPã€CRP è¿™ä¸‰ä¸ªåŸåˆ™æ›´æœ‰é™ã€‚æˆ‘ä»¬æœ€åˆæ‰€ç†è§£çš„ç»„åˆåŸåˆ™å¯èƒ½å®Œå…¨åŸºäºå•ä¸€èŒè´£åŸåˆ™ã€‚ç„¶è€Œï¼Œæœ¬ç« ä»‹ç»çš„è¿™ä¸‰ä¸ªåŸåˆ™ä¸ºæˆ‘ä»¬æè¿°äº†ä¸€ä¸ªæ›´ä¸ºå¤æ‚çš„å†³ç­–è¿‡ç¨‹ã€‚åœ¨å†³å®šå°†å“ªäº›ç±»å½’ä¸ºåŒä¸€ä¸ªç»„ä»¶æ—¶ï¼Œå¿…é¡»è¦è€ƒè™‘åˆ°ç ”å‘æ€§ä¸å¤ç”¨æ€§ä¹‹é—´çš„çŸ›ç›¾ï¼Œå¹¶æ ¹æ®åº”ç”¨ç¨‹åºçš„éœ€è¦æ¥å¹³è¡¡è¿™ä¸¤ä¸ªçŸ›ç›¾ï¼Œè¿™æ˜¯ä¸€ä»¶å¾ˆä¸å®¹æ˜“çš„äº‹ã€‚è€Œä¸”ï¼Œè¿™ç§å¹³è¡¡æœ¬èº«ä¹Ÿåœ¨ä¸æ–­å˜åŒ–ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä¸‹é€‚ç”¨çš„åˆ†å‰²æ–¹å¼å¯èƒ½æ˜å¹´å°±ä¸å†é€‚ç”¨äº†ã€‚æ‰€ä»¥ï¼Œç»„ä»¶çš„æ„æˆå®‰æ’åº”éšç€é¡¹ç›®é‡å¿ƒçš„ä¸åŒï¼Œä»¥åŠç ”å‘æ€§ä¸å¤ç”¨æ€§çš„ä¸åŒè€Œä¸æ–­æ¼”åŒ–ã€‚</p></blockquote></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/windily-cloud/obsidian-publish/edit/main/Publish/Publish/Clean Archtechture/ch13.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/9/20 11:11:04</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: wwww.4399li@qq.com">windilycloud</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch12.html" class="nav-link prev" aria-label="ch12.md"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><span class="icon iconfont icon-file"></span>ch12.md</div></a><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch14.html" class="nav-link next" aria-label="ch14.md"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">ch14.md<span class="icon iconfont icon-file"></span></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">ä»€ä¹ˆæ˜¯å¹¸è¤”ï¼Ÿ å¹¸ç¦å°±æ˜¯çŒ«åƒé±¼ç‹—åƒè‚‰ï¼Œå¥¥ç‰¹æ›¼æ‰“å°æ€ªå…½ï¼</div><div class="copyright">Copyright Â© 2022 Windily-Cloud</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/obsidian-publish/assets/app.887b133c.js" defer></script>
  </body>
</html>
