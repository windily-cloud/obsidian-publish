<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://windily-cloud.github.io/obsidian-publish/Publish/Clean%20Archtechture/ch15.html"><meta property="og:site_name" content="Windily Cloud"><meta property="og:title" content="Chap15. WHAT IS ARCHITECTURE? ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-09-20T11:11:04.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2022-09-20T11:11:04.000Z"><title>Chap15. WHAT IS ARCHITECTURE? ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„ | Windily Cloud</title><meta name="description" content="Windily Cloud's Blog">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/obsidian-publish/assets/style.12da8f21.css">
    <link rel="modulepreload" href="/obsidian-publish/assets/app.887b133c.js"><link rel="modulepreload" href="/obsidian-publish/assets/ch15.html.5b8799e9.js"><link rel="modulepreload" href="/obsidian-publish/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/obsidian-publish/assets/ch15.html.1ee0e012.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.c7e76e53.js"><link rel="prefetch" href="/obsidian-publish/assets/home.html.f01af163.js"><link rel="prefetch" href="/obsidian-publish/assets/å¯¼èˆª.html.d24325cb.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.fc3247cd.js"><link rel="prefetch" href="/obsidian-publish/assets/afterword.html.279a3dae.js"><link rel="prefetch" href="/obsidian-publish/assets/ch1.html.ad67b7a0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch10.html.74f49c94.js"><link rel="prefetch" href="/obsidian-publish/assets/ch11.html.7b8b868f.js"><link rel="prefetch" href="/obsidian-publish/assets/ch12.html.0897d88d.js"><link rel="prefetch" href="/obsidian-publish/assets/ch13.html.871f1a29.js"><link rel="prefetch" href="/obsidian-publish/assets/ch14.html.9cf7c1a7.js"><link rel="prefetch" href="/obsidian-publish/assets/ch16.html.b2dc5528.js"><link rel="prefetch" href="/obsidian-publish/assets/ch17.html.d50b6029.js"><link rel="prefetch" href="/obsidian-publish/assets/ch18.html.f9083031.js"><link rel="prefetch" href="/obsidian-publish/assets/ch19.html.a8daed86.js"><link rel="prefetch" href="/obsidian-publish/assets/ch2.html.f712f0c4.js"><link rel="prefetch" href="/obsidian-publish/assets/ch20.html.008de7bb.js"><link rel="prefetch" href="/obsidian-publish/assets/ch21.html.bc3946ee.js"><link rel="prefetch" href="/obsidian-publish/assets/ch22.html.dcd080ee.js"><link rel="prefetch" href="/obsidian-publish/assets/ch23.html.4bd6fad0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch24.html.5af7f550.js"><link rel="prefetch" href="/obsidian-publish/assets/ch25.html.cdcf732e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch26.html.d56c6b1b.js"><link rel="prefetch" href="/obsidian-publish/assets/ch27.html.1d0c5f03.js"><link rel="prefetch" href="/obsidian-publish/assets/ch28.html.a9585c5e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch29.html.7898d2ef.js"><link rel="prefetch" href="/obsidian-publish/assets/ch3.html.4e106aa0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch30.html.efd82950.js"><link rel="prefetch" href="/obsidian-publish/assets/ch31.html.054b22ad.js"><link rel="prefetch" href="/obsidian-publish/assets/ch32.html.25d75f30.js"><link rel="prefetch" href="/obsidian-publish/assets/ch33.html.058b06f6.js"><link rel="prefetch" href="/obsidian-publish/assets/ch34.html.61d3f411.js"><link rel="prefetch" href="/obsidian-publish/assets/ch4.html.a6691c1e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch5.html.326ac1a0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch6.html.b00c3f6a.js"><link rel="prefetch" href="/obsidian-publish/assets/ch7.html.4e35799e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch8.html.f553bf58.js"><link rel="prefetch" href="/obsidian-publish/assets/ch9.html.1abe47e0.js"><link rel="prefetch" href="/obsidian-publish/assets/part1.html.61a30e56.js"><link rel="prefetch" href="/obsidian-publish/assets/part2.html.c688cf00.js"><link rel="prefetch" href="/obsidian-publish/assets/part3.html.19a54833.js"><link rel="prefetch" href="/obsidian-publish/assets/part4.html.e97d623d.js"><link rel="prefetch" href="/obsidian-publish/assets/part5.html.59f213ed.js"><link rel="prefetch" href="/obsidian-publish/assets/part6.html.565d8d69.js"><link rel="prefetch" href="/obsidian-publish/assets/obsidainæ–‡æ¡£å¯¼å‡ºçš„æ–¹æ³•.html.8c97282e.js"><link rel="prefetch" href="/obsidian-publish/assets/ç¬”è®°åˆ†ç±»æ–¹æ³•çš„æ€è€ƒ.html.7a0981ad.js"><link rel="prefetch" href="/obsidian-publish/assets/æ‚è¯ï¼šä»æ„è¯†å½¢æ€åˆ†æè¥¿æ–¹ç–«æƒ….html.609d0549.js"><link rel="prefetch" href="/obsidian-publish/assets/è¯»æ¸…æ”¿åºœæ˜¯å¦åº”è¯¥ä¿®å»ºé“è·¯ä¸€æ–‡.html.0ce08377.js"><link rel="prefetch" href="/obsidian-publish/assets/404.html.cc115e5e.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.60ae3ce2.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.c09081fd.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.70634028.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.3b70efd7.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.f5a6049f.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.d91b9c1f.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.32852561.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.0a68a710.js"><link rel="prefetch" href="/obsidian-publish/assets/home.html.93b7cca5.js"><link rel="prefetch" href="/obsidian-publish/assets/å¯¼èˆª.html.a1c9d7de.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.0da27cdd.js"><link rel="prefetch" href="/obsidian-publish/assets/afterword.html.b850d04a.js"><link rel="prefetch" href="/obsidian-publish/assets/ch1.html.5aa5f6f6.js"><link rel="prefetch" href="/obsidian-publish/assets/ch10.html.413c371f.js"><link rel="prefetch" href="/obsidian-publish/assets/ch11.html.3cd7a242.js"><link rel="prefetch" href="/obsidian-publish/assets/ch12.html.175ce04d.js"><link rel="prefetch" href="/obsidian-publish/assets/ch13.html.fc4a1701.js"><link rel="prefetch" href="/obsidian-publish/assets/ch14.html.199a9f38.js"><link rel="prefetch" href="/obsidian-publish/assets/ch16.html.20b93b21.js"><link rel="prefetch" href="/obsidian-publish/assets/ch17.html.165fc3da.js"><link rel="prefetch" href="/obsidian-publish/assets/ch18.html.4cd429e5.js"><link rel="prefetch" href="/obsidian-publish/assets/ch19.html.3e2d64e7.js"><link rel="prefetch" href="/obsidian-publish/assets/ch2.html.384a9648.js"><link rel="prefetch" href="/obsidian-publish/assets/ch20.html.b1ad3804.js"><link rel="prefetch" href="/obsidian-publish/assets/ch21.html.58811bd6.js"><link rel="prefetch" href="/obsidian-publish/assets/ch22.html.44e934ae.js"><link rel="prefetch" href="/obsidian-publish/assets/ch23.html.d77e680e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch24.html.79a8927d.js"><link rel="prefetch" href="/obsidian-publish/assets/ch25.html.a6d9e7e0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch26.html.c53b41bf.js"><link rel="prefetch" href="/obsidian-publish/assets/ch27.html.fdbedd86.js"><link rel="prefetch" href="/obsidian-publish/assets/ch28.html.8d17578d.js"><link rel="prefetch" href="/obsidian-publish/assets/ch29.html.69ad75a7.js"><link rel="prefetch" href="/obsidian-publish/assets/ch3.html.ef8bfaee.js"><link rel="prefetch" href="/obsidian-publish/assets/ch30.html.d5d16d0e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch31.html.33b5c44c.js"><link rel="prefetch" href="/obsidian-publish/assets/ch32.html.6c12ea21.js"><link rel="prefetch" href="/obsidian-publish/assets/ch33.html.7adbcd24.js"><link rel="prefetch" href="/obsidian-publish/assets/ch34.html.c7a5cd99.js"><link rel="prefetch" href="/obsidian-publish/assets/ch4.html.f4b07606.js"><link rel="prefetch" href="/obsidian-publish/assets/ch5.html.0f2533d2.js"><link rel="prefetch" href="/obsidian-publish/assets/ch6.html.c64dc16e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch7.html.d8f304e4.js"><link rel="prefetch" href="/obsidian-publish/assets/ch8.html.ac3dd3f7.js"><link rel="prefetch" href="/obsidian-publish/assets/ch9.html.e8bdc588.js"><link rel="prefetch" href="/obsidian-publish/assets/part1.html.f20e95e2.js"><link rel="prefetch" href="/obsidian-publish/assets/part2.html.46fb949d.js"><link rel="prefetch" href="/obsidian-publish/assets/part3.html.37fde797.js"><link rel="prefetch" href="/obsidian-publish/assets/part4.html.e291bbe5.js"><link rel="prefetch" href="/obsidian-publish/assets/part5.html.7deee47f.js"><link rel="prefetch" href="/obsidian-publish/assets/part6.html.6126ed62.js"><link rel="prefetch" href="/obsidian-publish/assets/obsidainæ–‡æ¡£å¯¼å‡ºçš„æ–¹æ³•.html.f99ad030.js"><link rel="prefetch" href="/obsidian-publish/assets/ç¬”è®°åˆ†ç±»æ–¹æ³•çš„æ€è€ƒ.html.f2f4101a.js"><link rel="prefetch" href="/obsidian-publish/assets/æ‚è¯ï¼šä»æ„è¯†å½¢æ€åˆ†æè¥¿æ–¹ç–«æƒ….html.9eadd293.js"><link rel="prefetch" href="/obsidian-publish/assets/è¯»æ¸…æ”¿åºœæ˜¯å¦åº”è¯¥ä¿®å»ºé“è·¯ä¸€æ–‡.html.71c36bf1.js"><link rel="prefetch" href="/obsidian-publish/assets/404.html.24a96f75.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.b76fc3f0.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.ba71ba2a.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.103ba7cd.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.7d4c0d5f.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.b1a4c497.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.0c6eca16.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.394348dd.js"><link rel="prefetch" href="/obsidian-publish/assets/auto.56c9cb2e.js"><link rel="prefetch" href="/obsidian-publish/assets/index.1f644ee1.js"><link rel="prefetch" href="/obsidian-publish/assets/flowchart.parse.1479ec3f.js"><link rel="prefetch" href="/obsidian-publish/assets/mermaid.esm.min.0e041931.js"><link rel="prefetch" href="/obsidian-publish/assets/highlight.esm.9b852bc5.js"><link rel="prefetch" href="/obsidian-publish/assets/markdown.esm.77e8db25.js"><link rel="prefetch" href="/obsidian-publish/assets/math.esm.cb9d4be3.js"><link rel="prefetch" href="/obsidian-publish/assets/notes.esm.62c5f19d.js"><link rel="prefetch" href="/obsidian-publish/assets/reveal.esm.41ec5d7f.js"><link rel="prefetch" href="/obsidian-publish/assets/search.esm.04894411.js"><link rel="prefetch" href="/obsidian-publish/assets/zoom.esm.78977eba.js"><link rel="prefetch" href="/obsidian-publish/assets/VuePlayground.3cfc7758.js"><link rel="prefetch" href="/obsidian-publish/assets/photoswipe.esm.f594e77b.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/obsidian-publish/" class="brand"><img class="logo" src="/obsidian-publish/logo.svg" alt="Windily Cloud"><!----><span class="site-name hide-in-pad">Windily Cloud</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/obsidian-publish/" class="nav-link" aria-label="åšå®¢ä¸»é¡µ"><span class="icon iconfont icon-home"></span>åšå®¢ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/obsidian-publish/home.html" class="nav-link" aria-label="å›¾è°±"><span class="icon iconfont icon-home"></span>å›¾è°±<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://vuepress-theme-hope.github.io/v2/zh/" rel="noopener noreferrer" target="_blank" aria-label="ä¸»é¢˜æ–‡æ¡£" class="nav-link"><span class="icon iconfont icon-note"></span>ä¸»é¢˜æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/windily-cloud/obsidian-publish" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading clickable active"><span class="icon iconfont icon-folder"></span><a href="/obsidian-publish/" class="title">Vault</a><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-folder"></span><span class="title">è§é—»</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-folder"></span><span class="title">Obsidian</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-folder"></span><span class="title">Clean Archtechture</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/" class="nav-link sidebar-link sidebar-page" aria-label="README.md"><span class="icon iconfont icon-file"></span>README.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/afterword.html" class="nav-link sidebar-link sidebar-page" aria-label="afterword.md"><span class="icon iconfont icon-file"></span>afterword.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch1.html" class="nav-link sidebar-link sidebar-page" aria-label="ch1.md"><span class="icon iconfont icon-file"></span>ch1.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch10.html" class="nav-link sidebar-link sidebar-page" aria-label="ch10.md"><span class="icon iconfont icon-file"></span>ch10.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch11.html" class="nav-link sidebar-link sidebar-page" aria-label="ch11.md"><span class="icon iconfont icon-file"></span>ch11.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch12.html" class="nav-link sidebar-link sidebar-page" aria-label="ch12.md"><span class="icon iconfont icon-file"></span>ch12.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html" class="nav-link sidebar-link sidebar-page" aria-label="ch13.md"><span class="icon iconfont icon-file"></span>ch13.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch14.html" class="nav-link sidebar-link sidebar-page" aria-label="ch14.md"><span class="icon iconfont icon-file"></span>ch14.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="ch15.md"><span class="icon iconfont icon-file"></span>ch15.md<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#development-å¼€å‘-development" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="DEVELOPMENT å¼€å‘ï¼ˆDevelopmentï¼‰"><!---->DEVELOPMENT å¼€å‘ï¼ˆDevelopmentï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#deployment-éƒ¨ç½²-deployment" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="DEPLOYMENT éƒ¨ç½²ï¼ˆDeploymentï¼‰"><!---->DEPLOYMENT éƒ¨ç½²ï¼ˆDeploymentï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#operation-è¿è¡Œ-operation" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="OPERATION è¿è¡Œï¼ˆOperationï¼‰"><!---->OPERATION è¿è¡Œï¼ˆOperationï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#maintenance-ç»´æŠ¤-maintenance" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAINTENANCE ç»´æŠ¤ï¼ˆMaintenanceï¼‰"><!---->MAINTENANCE ç»´æŠ¤ï¼ˆMaintenanceï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#keeping-options-open-ä¿æŒå¯é€‰é¡¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="KEEPING OPTIONS OPEN ä¿æŒå¯é€‰é¡¹"><!---->KEEPING OPTIONS OPEN ä¿æŒå¯é€‰é¡¹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#device-independence-è®¾å¤‡æ— å…³æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="DEVICE INDEPENDENCE è®¾å¤‡æ— å…³æ€§"><!---->DEVICE INDEPENDENCE è®¾å¤‡æ— å…³æ€§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#junk-mail-åƒåœ¾é‚®ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="JUNK MAIL åƒåœ¾é‚®ä»¶"><!---->JUNK MAIL åƒåœ¾é‚®ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#physical-addressing-ç‰©ç†åœ°å€å¯»å€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="PHYSICAL ADDRESSING ç‰©ç†åœ°å€å¯»å€"><!---->PHYSICAL ADDRESSING ç‰©ç†åœ°å€å¯»å€<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#conclusion-æœ¬ç« å°ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="CONCLUSION æœ¬ç« å°ç»“"><!---->CONCLUSION æœ¬ç« å°ç»“<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch16.html" class="nav-link sidebar-link sidebar-page" aria-label="ch16.md"><span class="icon iconfont icon-file"></span>ch16.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch17.html" class="nav-link sidebar-link sidebar-page" aria-label="ch17.md"><span class="icon iconfont icon-file"></span>ch17.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch18.html" class="nav-link sidebar-link sidebar-page" aria-label="ch18.md"><span class="icon iconfont icon-file"></span>ch18.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch19.html" class="nav-link sidebar-link sidebar-page" aria-label="ch19.md"><span class="icon iconfont icon-file"></span>ch19.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch2.html" class="nav-link sidebar-link sidebar-page" aria-label="ch2.md"><span class="icon iconfont icon-file"></span>ch2.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch20.html" class="nav-link sidebar-link sidebar-page" aria-label="ch20.md"><span class="icon iconfont icon-file"></span>ch20.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch21.html" class="nav-link sidebar-link sidebar-page" aria-label="ch21.md"><span class="icon iconfont icon-file"></span>ch21.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch22.html" class="nav-link sidebar-link sidebar-page" aria-label="ch22.md"><span class="icon iconfont icon-file"></span>ch22.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch23.html" class="nav-link sidebar-link sidebar-page" aria-label="ch23.md"><span class="icon iconfont icon-file"></span>ch23.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch24.html" class="nav-link sidebar-link sidebar-page" aria-label="ch24.md"><span class="icon iconfont icon-file"></span>ch24.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch25.html" class="nav-link sidebar-link sidebar-page" aria-label="ch25.md"><span class="icon iconfont icon-file"></span>ch25.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch26.html" class="nav-link sidebar-link sidebar-page" aria-label="ch26.md"><span class="icon iconfont icon-file"></span>ch26.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch27.html" class="nav-link sidebar-link sidebar-page" aria-label="ch27.md"><span class="icon iconfont icon-file"></span>ch27.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch28.html" class="nav-link sidebar-link sidebar-page" aria-label="ch28.md"><span class="icon iconfont icon-file"></span>ch28.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch29.html" class="nav-link sidebar-link sidebar-page" aria-label="ch29.md"><span class="icon iconfont icon-file"></span>ch29.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch3.html" class="nav-link sidebar-link sidebar-page" aria-label="ch3.md"><span class="icon iconfont icon-file"></span>ch3.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch30.html" class="nav-link sidebar-link sidebar-page" aria-label="ch30.md"><span class="icon iconfont icon-file"></span>ch30.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch31.html" class="nav-link sidebar-link sidebar-page" aria-label="ch31.md"><span class="icon iconfont icon-file"></span>ch31.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch32.html" class="nav-link sidebar-link sidebar-page" aria-label="ch32.md"><span class="icon iconfont icon-file"></span>ch32.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch33.html" class="nav-link sidebar-link sidebar-page" aria-label="ch33.md"><span class="icon iconfont icon-file"></span>ch33.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch34.html" class="nav-link sidebar-link sidebar-page" aria-label="ch34.md"><span class="icon iconfont icon-file"></span>ch34.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch4.html" class="nav-link sidebar-link sidebar-page" aria-label="ch4.md"><span class="icon iconfont icon-file"></span>ch4.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch5.html" class="nav-link sidebar-link sidebar-page" aria-label="ch5.md"><span class="icon iconfont icon-file"></span>ch5.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch6.html" class="nav-link sidebar-link sidebar-page" aria-label="ch6.md"><span class="icon iconfont icon-file"></span>ch6.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch7.html" class="nav-link sidebar-link sidebar-page" aria-label="ch7.md"><span class="icon iconfont icon-file"></span>ch7.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch8.html" class="nav-link sidebar-link sidebar-page" aria-label="ch8.md"><span class="icon iconfont icon-file"></span>ch8.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch9.html" class="nav-link sidebar-link sidebar-page" aria-label="ch9.md"><span class="icon iconfont icon-file"></span>ch9.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part1.html" class="nav-link sidebar-link sidebar-page" aria-label="part1.md"><span class="icon iconfont icon-file"></span>part1.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part2.html" class="nav-link sidebar-link sidebar-page" aria-label="part2.md"><span class="icon iconfont icon-file"></span>part2.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part3.html" class="nav-link sidebar-link sidebar-page" aria-label="part3.md"><span class="icon iconfont icon-file"></span>part3.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part4.html" class="nav-link sidebar-link sidebar-page" aria-label="part4.md"><span class="icon iconfont icon-file"></span>part4.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part5.html" class="nav-link sidebar-link sidebar-page" aria-label="part5.md"><span class="icon iconfont icon-file"></span>part5.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part6.html" class="nav-link sidebar-link sidebar-page" aria-label="part6.md"><span class="icon iconfont icon-file"></span>part6.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/%E5%AF%BC%E8%88%AA.html" class="nav-link sidebar-link sidebar-page" aria-label="å¯¼èˆª.md"><span class="icon iconfont icon-file"></span>å¯¼èˆª.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Chap15. WHAT IS ARCHITECTURE? ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" localizeddate="2022å¹´9æœˆ20æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://windily-cloud.github.io" target="_blank" rel="noopener noreferrer">Windily-Cloud</a></span><span property="author" content="Windily-Cloud"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´9æœˆ20æ—¥</span><meta property="datePublished" content="2022-09-20T11:03:58.000Z"></span><!----><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" localizeddate="2022å¹´9æœˆ20æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 32 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT32M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#chap15-what-is-architecture-ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„" class="router-link-active router-link-exact-active toc-link level1">Chap15. WHAT IS ARCHITECTURE? ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#development-å¼€å‘-development" class="router-link-active router-link-exact-active toc-link level2">DEVELOPMENT å¼€å‘ï¼ˆDevelopmentï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#deployment-éƒ¨ç½²-deployment" class="router-link-active router-link-exact-active toc-link level2">DEPLOYMENT éƒ¨ç½²ï¼ˆDeploymentï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#operation-è¿è¡Œ-operation" class="router-link-active router-link-exact-active toc-link level2">OPERATION è¿è¡Œï¼ˆOperationï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#maintenance-ç»´æŠ¤-maintenance" class="router-link-active router-link-exact-active toc-link level2">MAINTENANCE ç»´æŠ¤ï¼ˆMaintenanceï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#keeping-options-open-ä¿æŒå¯é€‰é¡¹" class="router-link-active router-link-exact-active toc-link level2">KEEPING OPTIONS OPEN ä¿æŒå¯é€‰é¡¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#device-independence-è®¾å¤‡æ— å…³æ€§" class="router-link-active router-link-exact-active toc-link level2">DEVICE INDEPENDENCE è®¾å¤‡æ— å…³æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#junk-mail-åƒåœ¾é‚®ä»¶" class="router-link-active router-link-exact-active toc-link level2">JUNK MAIL åƒåœ¾é‚®ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#physical-addressing-ç‰©ç†åœ°å€å¯»å€" class="router-link-active router-link-exact-active toc-link level2">PHYSICAL ADDRESSING ç‰©ç†åœ°å€å¯»å€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html#conclusion-æœ¬ç« å°ç»“" class="router-link-active router-link-exact-active toc-link level2">CONCLUSION æœ¬ç« å°ç»“</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="chap15-what-is-architecture-ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„" tabindex="-1"><a class="header-anchor" href="#chap15-what-is-architecture-ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„" aria-hidden="true">#</a> Chap15. WHAT IS ARCHITECTURE? ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„</h1><p>The word â€œarchitectureâ€ conjures visions of power and mystery. It makes us think of weighty decisions and deep technical prowess. Software architecture is at the pinnacle of technical achievement. When we think of a software architect, we think of someone who has power, and who commands respect. What young aspiring software developer has not dreamed of one day becoming a software architect?</p><blockquote><p>â€œæ¶æ„â€è¿™ä¸ªè¯ç»™äººçš„ç›´è§‚æ„Ÿå—å°±å……æ»¡äº†æƒåŠ›ä¸ç¥ç§˜æ„Ÿï¼Œå› æ­¤è°ˆè®ºæ¶æ„æ€»è®©äººæœ‰ä¸€ç§æ­£åœ¨è¿›è¡Œè´£ä»»é‡å¤§çš„å†³ç­–æˆ–è€…æ·±åº¦æŠ€æœ¯åˆ†æçš„æ„Ÿè§‰ã€‚æ¯•ç«Ÿï¼Œè¿›é˜¶åˆ°è½¯ä»¶æ¶æ„è¿™ä¸€å±‚æ¬¡æ˜¯æˆ‘ä»¬èµ°æŠ€æœ¯è·¯çº¿çš„äººçš„ç»ˆæç›®æ ‡ã€‚ä¸€ä¸ªè½¯ä»¶æ¶æ„å¸ˆæ€»æ˜¯ç»™äººä¸€ç§æƒåŠ›éå‡¡ã€å¹¿å—å°Šæ•¬çš„æ„Ÿè§‰ï¼Œæœ‰å“ªä¸ªå¹´è½»çš„å·¥ç¨‹å¸ˆæ²¡æœ‰æ¢¦æƒ³è¿‡æˆä¸ºä¸€ä¸ªè½¯ä»¶æ¶æ„å¸ˆå‘¢?</p></blockquote><p>But what is software architecture? What does a software architect do, and when does he or she do it?</p><blockquote><p>é‚£ä¹ˆï¼Œç©¶ç«Ÿä»€ä¹ˆæ‰æ˜¯â€œè½¯ä»¶æ¶æ„â€å‘¢?è½¯ä»¶æ¶æ„å¸ˆçš„å·¥ä½œå†…å®¹ç©¶ç«Ÿæ˜¯ä»€ä¹ˆ?è¿™é¡¹å·¥ä½œåˆæ˜¯ä»€ä¹ˆæ—¶å€™è¿›è¡Œçš„å‘¢ï¼Ÿ</p></blockquote><p>First of all, a software architect is a programmer; and continues to be a programmer. Never fall for the lie that suggests that software architects pull back from code to focus on higher-level issues. They do not! Software architects are the best programmers, and they continue to take programming tasks, while they also guide the rest of the team toward a design that maximizes productivity. Software architects may not write as much code as other programmers do, but they continue to engage in programming tasks. They do this because they cannot do their jobs properly if they are not experiencing the problems that they are creating for the rest of the programmers.</p><blockquote><p>é¦–å…ˆï¼Œè½¯ä»¶æ¶æ„å¸ˆè‡ªèº«éœ€è¦æ˜¯ç¨‹åºå‘˜ï¼Œå¹¶ä¸”å¿…é¡»ä¸€ç›´åšæŒåšä¸€çº¿ç¨‹åºå‘˜ï¼Œç»å¯¹ä¸è¦å¬ä»é‚£äº›è¯´åº”è¯¥è®©è½¯ä»¶æ¶æ„å¸ˆä»ä»£ç ä¸­è§£æ”¾å‡ºæ¥ä»¥ä¸“å¿ƒè§£å†³é«˜é˜¶é—®é¢˜çš„ä¼ªå»ºè®®ã€‚ä¸æ˜¯è¿™æ ·çš„ï¼è½¯ä»¶æ¶æ„å¸ˆå…¶å®åº”è¯¥æ˜¯èƒ½åŠ›æœ€å¼ºçš„ä¸€ç¾¤ç¨‹åºå‘˜ï¼Œä»–ä»¬é€šå¸¸ä¼šåœ¨è‡ªèº«æ‰¿æ¥ç¼–ç¨‹ä»»åŠ¡çš„åŒæ—¶ã€‚é€æ¸å¼•å¯¼æ•´ä¸ªå›¢é˜Ÿå‘ä¸€ä¸ªèƒ½å¤Ÿæœ€å¤§åŒ–ç”Ÿäº§åŠ›çš„ç³»ç»Ÿè®¾è®¡æ–¹å‘å‰è¿›ã€‚ä¹Ÿè®¸è½¯ä»¶æ¶æ„å¸ˆç”Ÿäº§çš„ä»£ç é‡ä¸æ˜¯æœ€å¤šçš„ï¼Œä½†æ˜¯ä»–ä»¬å¿…é¡»ä¸åœåœ°æ‰¿æ¥ç¼–ç¨‹ä»»åŠ¡ã€‚å¦‚æœä¸äº²èº«æ‰¿å—å› ç³»ç»Ÿè®¾è®¡è€Œå¸¦æ¥çš„éº»çƒ¦ï¼Œå°±ä½“ä¼šä¸åˆ°è®¾è®¡ä¸ä½³æ‰€å¸¦æ¥çš„ç—›è‹¦ï¼Œæ¥ç€å°±ä¼šé€æ¸è¿·å¤±æ­£ç¡®çš„è®¾è®¡æ–¹å‘ã€‚</p></blockquote><p>The architecture of a software system is the shape given to that system by those who build it. The form of that shape is in the division of that system into components, the arrangement of those components, and the ways in which those components communicate with each other.</p><blockquote><p>è½¯ä»¶ç³»ç»Ÿçš„æ¶æ„è´¨é‡æ˜¯ç”±å®ƒçš„æ„å»ºè€…æ‰€å†³å®šçš„ï¼Œè½¯ä»¶æ¶æ„è¿™é¡¹å·¥ä½œçš„å®è´¨å°±æ˜¯è§„åˆ’å¦‚ä½•å°†ç³»ç»Ÿåˆ‡åˆ†æˆç»„ä»¶ï¼Œå¹¶å®‰æ’å¥½ç»„ä»¶ä¹‹é—´çš„æ’åˆ—å…³ç³»ï¼Œä»¥åŠç»„ä»¶ä¹‹é—´äº’ç›¸é€šä¿¡çš„æ–¹å¼ã€‚</p></blockquote><p>The purpose of that shape is to facilitate the development, deployment, operation, and maintenance of the software system contained within it.</p><blockquote><p>è€Œè®¾è®¡è½¯ä»¶æ¶æ„çš„ç›®çš„ï¼Œå°±æ˜¯ä¸ºäº†åœ¨å·¥ä½œä¸­æ›´å¥½åœ°å¯¹è¿™äº›ç»„ä»¶è¿›è¡Œç ”å‘ã€éƒ¨ç½²ã€è¿è¡Œä»¥åŠç»´æŠ¤ã€‚</p></blockquote><p>The strategy behind that facilitation is to leave as many options open as possible, for as long as possible.</p><blockquote><p>å¦‚æœæƒ³è®¾è®¡ä¸€ä¸ªä¾¿äºæ¨è¿›å„é¡¹å·¥ä½œçš„ç³»ç»Ÿï¼Œå…¶ç­–ç•¥å°±æ˜¯è¦åœ¨è®¾è®¡ä¸­å°½å¯èƒ½é•¿æ—¶é—´åœ°ä¿ç•™å°½å¯èƒ½å¤šçš„å¯é€‰é¡¹ã€‚</p></blockquote><p>Perhaps this statement has surprised you. Perhaps you thought that the goal of software architecture was to make the system work properly. Certainly we want the system to work properly, and certainly the architecture of the system must support that as one of its highest priorities.</p><blockquote><p>ä¸Šé¢è¿™å¥è¯å¯èƒ½ä¼šè®©äººå¾ˆæ„å¤–ï¼Œä¹Ÿè®¸ä½ ä¸€ç›´è®¤ä¸ºè®¾è®¡è½¯ä»¶æ¶æ„çš„ç›®çš„åº”è¯¥æ˜¯è®©ä¸€ä¸ªç³»ç»Ÿèƒ½æ­£å¸¸åœ°å·¥ä½œã€‚æˆ‘ä»¬å½“ç„¶éœ€è¦è®©ç³»ç»Ÿæ­£å¸¸å·¥ä½œï¼Œè½¯ä»¶æ¶æ„è®¾è®¡æœ€é«˜ä¼˜å…ˆçº§çš„ç›®æ ‡å°±æ˜¯ä¿æŒç³»ç»Ÿæ­£å¸¸å·¥ä½œã€‚</p></blockquote><p>However, the architecture of a system has very little bearing on whether that system works. There are many systems out there, with terrible architectures, that work just fine. Their troubles do not lie in their operation; rather, they occur in their deployment, maintenance, and ongoing development.</p><blockquote><p>ç„¶è€Œï¼Œä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿçš„æ¶æ„è´¨é‡å’Œè¯¥ç³»ç»Ÿæ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œçš„å…³ç³»å¹¶ä¸å¤§ï¼Œæ¯•ç«Ÿä¸–ç•Œä¸Šæœ‰å¾ˆå¤šæ¶æ„è®¾è®¡ç³Ÿç³•ä½†æ˜¯å·¥ä½œæ­£å¸¸çš„è½¯ä»¶ç³»ç»Ÿã€‚çœŸæ­£çš„éº»çƒ¦å¾€å¾€å¹¶ä¸ä¼šåœ¨æˆ‘ä»¬è¿è¡Œè½¯ä»¶çš„è¿‡ç¨‹ä¸­å‡ºç°ï¼Œè€Œæ˜¯ä¼šå‡ºç°åœ¨è¿™ä¸ªè½¯ä»¶ç³»ç»Ÿçš„å¼€å‘ã€éƒ¨ç½²ä»¥åŠåç»­çš„è¡¥å……å¼€å‘ä¸­ã€‚</p></blockquote><p>This is not to say that architecture plays no role in supporting the proper behavior of the system. It certainly does, and that role is critical. But the role is passive and cosmetic, not active or essential. There are few, if any, behavioral options that the architecture of a system can leave open.</p><blockquote><p>å½“ç„¶ï¼Œè¿™å¹¶ä¸æ„å‘³ç€å¥½çš„è½¯ä»¶æ¶æ„å¯¹ç³»ç»Ÿçš„è¡Œä¸ºå°±æ²¡æœ‰å½±å“äº†ï¼Œäº‹å®ä¸Šæ¶æ„åœ¨å…¶ä¸­çš„è§’è‰²è¿˜æ˜¯å¾ˆé‡è¦çš„ã€‚ç„¶è€Œåœ¨è¿™ä¸ªæ–¹é¢ï¼Œæ¶æ„èƒ½èµ·åˆ°çš„ä½œç”¨æ›´å¤šçš„æ—¶å€™æ˜¯è¢«åŠ¨çš„ï¼Œä¿®é¥°æ€§çš„ï¼Œå¹¶ä¸æ˜¯ä¸»åŠ¨çš„ï¼Œæ›´ä¸æ˜¯å¿…ä¸å¯å°‘çš„ã€‚åœ¨ç³»ç»Ÿçš„æ¶æ„è®¾è®¡ä¸­ï¼Œèƒ½å½±å“ç³»ç»Ÿè¡Œä¸ºçš„å¯é€‰é¡¹å°‘ä¹‹åˆå°‘ã€‚</p></blockquote><p>The primary purpose of architecture is to support the life cycle of the system. Good architecture makes the system easy to understand, easy to develop, easy to maintain, and easy to deploy. The ultimate goal is to minimize the lifetime cost of the system and to maximize programmer productivity.</p><blockquote><p>è½¯ä»¶æ¶æ„è®¾è®¡çš„ä¸»è¦ç›®æ ‡æ˜¯æ”¯æ’‘è½¯ä»¶ç³»ç»Ÿçš„å…¨ç”Ÿå‘½å‘¨æœŸï¼Œè®¾è®¡è‰¯å¥½çš„æ¶æ„å¯ä»¥è®©ç³»ç»Ÿä¾¿äºç†è§£ã€æ˜“äºä¿®æ”¹ã€æ–¹ä¾¿ç»´æŠ¤ï¼Œå¹¶ä¸”èƒ½è½»æ¾éƒ¨ç½²ã€‚è½¯ä»¶æ¶æ„çš„ç»ˆæç›®æ ‡å°±æ˜¯æœ€å¤§åŒ–ç¨‹åºå‘˜çš„ç”Ÿäº§åŠ›ï¼ŒåŒæ—¶æœ€å°åŒ–ç³»ç»Ÿçš„æ€»è¿è¥æˆæœ¬ã€‚</p></blockquote><h2 id="development-å¼€å‘-development" tabindex="-1"><a class="header-anchor" href="#development-å¼€å‘-development" aria-hidden="true">#</a> DEVELOPMENT å¼€å‘ï¼ˆDevelopmentï¼‰</h2><p>A software system that is hard to develop is not likely to have a long and healthy lifetime. So the architecture of a system should make that system easy to develop, for the team(s) who develop it.</p><blockquote><p>ä¸€ä¸ªå¼€å‘èµ·æ¥å¾ˆå›°éš¾çš„è½¯ä»¶ç³»ç»Ÿä¸€èˆ¬ä¸å¤ªå¯èƒ½ä¼šæœ‰ä¸€ä¸ªé•¿ä¹…ã€å¥åº·çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰€ä»¥ç³»ç»Ÿæ¶æ„çš„ä½œç”¨å°±æ˜¯è¦æ–¹ä¾¿å…¶å¼€å‘å›¢é˜Ÿå¯¹å®ƒçš„å¼€å‘ã€‚</p></blockquote><p>Different team structures imply different architectural decisions. On the one hand, a small team of five developers can quite effectively work together to develop a monolithic system without well-defined components or interfaces. In fact, such a team would likely find the strictures of an architecture something of an impediment during the early days of development. This is likely the reason why so many systems lack good architecture: They were begun with none, because the team was small and did not want the impediment of a superstructure.</p><blockquote><p>è¿™æ„å‘³ç€ï¼Œä¸åŒçš„å›¢é˜Ÿç»“æ„åº”è¯¥é‡‡ç”¨ä¸åŒçš„æ¶æ„è®¾è®¡ã€‚ä¸€æ–¹é¢ï¼Œå¯¹äºä¸€ä¸ªåªæœ‰äº”ä¸ªå¼€å‘äººå‘˜çš„å°å›¢é˜Ÿæ¥è¯´ï¼Œä»–ä»¬å®Œå…¨å¯ä»¥éå¸¸é«˜æ•ˆåœ°å…±åŒå¼€å‘ä¸€ä¸ªæ²¡æœ‰æ˜ç¡®å®šä¹‰ç»„ä»¶å’Œæ¥å£çš„å•ä½“ç³»ç»Ÿï¼ˆmonolithic systemï¼‰ã€‚äº‹å®ä¸Šï¼Œè¿™æ ·çš„å›¢é˜Ÿå¯èƒ½ä¼šå‘ç°è½¯ä»¶æ¶æ„åœ¨æ—©æœŸå¼€å‘ä¸­åè€Œæ˜¯ä¸€ç§éšœç¢ã€‚è¿™å¯èƒ½å°±æ˜¯ä¸ºä»€ä¹ˆè®¸å¤šç³»ç»Ÿéƒ½æ²¡æœ‰è®¾è®¡ä¸€ä¸ªè‰¯å¥½æ¶æ„çš„åŸå› ï¼Œå› ä¸ºå®ƒä»¬çš„å¼€å‘å›¢é˜Ÿèµ·åˆéƒ½å¾ˆå°ï¼Œä¸éœ€è¦è®¾è®¡ä¸€äº›ä¸Šå±‚å»ºç­‘æ¥é™åˆ¶æŸäº›äº‹æƒ…ã€‚</p></blockquote><p>On the other hand, a system being developed by five different teams, each of which includes seven developers, cannot make progress unless the system is divided into well-defined components with reliably stable interfaces. If no other factors are considered, the architecture of that system will likely evolve into five componentsâ€”one for each team.</p><blockquote><p>ä½†å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿæ˜¯ç”±äº”ä¸ªä¸åŒçš„å›¢é˜Ÿåˆä½œå¼€å‘çš„ï¼Œè€Œæ¯ä¸ªå›¢é˜Ÿå„è‡ªéƒ½æœ‰ä¸ƒä¸ªå¼€å‘äººå‘˜çš„è¯ï¼Œä¸å°†ç³»ç»Ÿåˆ’åˆ†æˆå®šä¹‰æ¸…æ™°çš„ç»„ä»¶å’Œå¯é ç¨³å®šçš„æ¥å£ï¼Œå¼€å‘å·¥ä½œå°±æ²¡æ³•ç»§ç»­æ¨è¿›ã€‚é€šå¸¸ï¼Œå¦‚æœå¿½ç•¥å…¶ä»–å› ç´ ï¼Œè¯¥ç³»ç»Ÿçš„æ¶æ„ä¼šé€æ¸æ¼”å˜æˆäº”ä¸ªç»„ä»¶ï¼Œä¸€ä¸ªç»„ä»¶å¯¹åº”ä¸€ä¸ªå›¢é˜Ÿã€‚</p></blockquote><p>Such a component-per-team architecture is not likely to be the best architecture for deployment, operation, and maintenance of the system. Nevertheless, it is the architecture that a group of teams will gravitate toward if they are driven solely by development schedule.</p><blockquote><p>å½“ç„¶ï¼Œè¿™ç§ä¸€ä¸ªç»„ä»¶å¯¹åº”ä¸€ä¸ªå›¢é˜Ÿçš„æ¶æ„ä¸å¤ªå¯èƒ½æ˜¯è¯¥ç³»ç»Ÿåœ¨éƒ¨ç½²ã€è¿è¡Œä»¥åŠç»´æŠ¤æ–¹é¢çš„æœ€ä¼˜æ–¹æ¡ˆã€‚ä½†ä¸ç®¡æ€æ ·ï¼Œå¦‚æœç ”å‘å›¢é˜Ÿåªå—å¼€å‘è¿›åº¦æ¥é©±åŠ¨çš„è¯ï¼Œä»–ä»¬çš„æ¶æ„è®¾è®¡æœ€ç»ˆä¸€å®šä¼šå€¾å‘äºè¿™ä¸ªæ–¹å‘ã€‚</p></blockquote><h2 id="deployment-éƒ¨ç½²-deployment" tabindex="-1"><a class="header-anchor" href="#deployment-éƒ¨ç½²-deployment" aria-hidden="true">#</a> DEPLOYMENT éƒ¨ç½²ï¼ˆDeploymentï¼‰</h2><p>To be effective, a software system must be deployable. The higher the cost of deployment, the less useful the system is. A goal of a software architecture, then, should be to make a system that can be easily deployed with a single action.</p><blockquote><p>ä¸ºäº†è®©å¼€å‘æˆä¸ºæœ‰æ•ˆçš„å·¥ä½œï¼Œè½¯ä»¶ç³»ç»Ÿå°±å¿…é¡»æ˜¯å¯éƒ¨ç½²çš„ã€‚åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç³»ç»Ÿçš„éƒ¨ç½²æˆæœ¬è¶Šé«˜ï¼Œå¯ç”¨æ€§å°±è¶Šä½ã€‚å› æ­¤ï¼Œå®ç°ä¸€é”®å¼çš„è½»æ¾éƒ¨ç½²åº”è¯¥æ˜¯æˆ‘ä»¬è®¾è®¡è½¯ä»¶æ¶æ„çš„ä¸€ä¸ªç›®æ ‡ã€‚</p></blockquote><p>Unfortunately, deployment strategy is seldom considered during initial development. This leads to architectures that may make the system easy to develop, but leave it very difficult to deploy.</p><blockquote><p>ä½†å¾ˆä¸å¹¸ï¼Œæˆ‘ä»¬åœ¨ç³»ç»Ÿçš„æ—©æœŸå¼€å‘ä¸­å¾ˆå°‘ä¼šè€ƒè™‘éƒ¨ç½²ç­–ç•¥æ–¹é¢çš„äº‹æƒ…ï¼Œè¿™å¸¸å¸¸ä¼šå¯¼è‡´ä¸€äº›æ˜“äºå¼€å‘ã€éš¾äºéƒ¨ç½²çš„ç³»ç»Ÿæ¶æ„ã€‚</p></blockquote><p>For example, in the early development of a system, the developers may decide to use a â€œmicro-service architecture.â€ They may find that this approach makes the system very easy to develop since the component boundaries are very firm and the interfaces relatively stable. However, when it comes time to deploy the system, they may discover that the number of micro-services has become daunting; configuring the connections between them, and the timing of their initiation, may also turn out to be a huge source of errors.</p><blockquote><p>ä¾‹å¦‚ï¼Œåœ¨ç³»ç»Ÿçš„æ—©æœŸå¼€å‘ä¸­ï¼Œå¼€å‘äººå‘˜å¯èƒ½ä¼šå†³å®šé‡‡ç”¨æŸç§â€œå¾®æœåŠ¡æ¶æ„â€ã€‚è¿™ç§æ¶æ„çš„ç»„ä»¶è¾¹ç•Œæ¸…æ™°ï¼Œæ¥å£ç¨³å®šï¼Œéå¸¸åˆ©äºå¼€å‘ã€‚ä½†å½“æˆ‘ä»¬å®é™…éƒ¨ç½²è¿™ç§ç³»ç»Ÿæ—¶ï¼Œå°±ä¼šå‘ç°å…¶å¾®æœåŠ¡çš„æ•°é‡å·²ç»å¤§åˆ°ä»¤äººæœ›è€Œç”Ÿç•ï¼Œè€Œé…ç½®è¿™äº›å¾®æœåŠ¡ä¹‹é—´çš„è¿æ¥ä»¥åŠå¯åŠ¨æ—¶é—´éƒ½ä¼šæˆä¸ºç³»ç»Ÿå‡ºé”™çš„ä¸»è¦æ¥æºã€‚</p></blockquote><p>Had the architects considered deployment issues early on, they might have decided on fewer services, a hybrid of services and in-process components, and a more integrated means of managing the interconnections.</p><blockquote><p>å¦‚æœè½¯ä»¶æ¶æ„å¸ˆæ—©å…ˆå°±è€ƒè™‘åˆ°è¿™äº›éƒ¨ç½²é—®é¢˜ï¼Œå¯èƒ½å°±ä¼šæœ‰æ„åœ°å‡å°‘å¾®æœåŠ¡çš„æ•°é‡ï¼Œé‡‡ç”¨è¿›ç¨‹å†…éƒ¨ç»„ä»¶ä¸å¤–éƒ¨æœåŠ¡æ··åˆçš„æ¶æ„ï¼Œä»¥åŠæ›´åŠ é›†æˆå¼çš„è¿æ¥ç®¡ç†æ–¹å¼ã€‚</p></blockquote><h2 id="operation-è¿è¡Œ-operation" tabindex="-1"><a class="header-anchor" href="#operation-è¿è¡Œ-operation" aria-hidden="true">#</a> OPERATION è¿è¡Œï¼ˆOperationï¼‰</h2><p>The impact of architecture on system operation tends to be less dramatic than the impact of architecture on development, deployment, and maintenance. Almost any operational difficulty can be resolved by throwing more hardware at the system without drastically impacting the software architecture.</p><blockquote><p>è½¯ä»¶æ¶æ„å¯¹ç³»ç»Ÿè¿è¡Œçš„å½±å“è¿œä¸åŠå®ƒå¯¹å¼€å‘ã€éƒ¨ç½²å’Œç»´æŠ¤çš„å½±å“ã€‚å‡ ä¹ä»»ä½•è¿è¡Œé—®é¢˜éƒ½å¯ä»¥é€šè¿‡å¢åŠ ç¡¬ä»¶çš„æ–¹å¼æ¥è§£å†³ï¼Œè¿™é¿å…äº†è½¯ä»¶æ¶æ„çš„é‡æ–°è®¾è®¡ã€‚</p></blockquote><p>Indeed, we have seen this happen over and over again. Software systems that have inefficient architectures can often be made to work effectively simply by adding more storage and more servers. The fact that hardware is cheap and people are expensive means that architectures that impede operation are not as costly as architectures that impede development, deployment, and maintenance.</p><blockquote><p>äº‹å®ä¸Šï¼Œæˆ‘ä»¬é•¿æœŸä»¥æ¥å°±æ˜¯ä¸€ç›´ç›®ç¹ç€è¿™ç§æƒ…å†µä¸€å†å‘ç”Ÿã€‚å¯¹äºä¸€ä¸ªå› æ¶æ„è®¾è®¡ç³Ÿç³•è€Œæ•ˆç‡ä½ä¸‹çš„ç³»ç»Ÿï¼Œæˆ‘ä»¬é€šå¸¸åªéœ€è¦å¢åŠ æ›´å¤šçš„å­˜å‚¨å™¨ä¸æœåŠ¡å™¨ï¼Œå°±èƒ½å¤Ÿè®©å®ƒå®Œæ»¡åœ°å®Œæˆä»»åŠ¡ã€‚å¦å¤–ï¼Œç¡¬ä»¶ä¹Ÿè¿œæ¯”äººåŠ›è¦ä¾¿å®œï¼Œè¿™ä¹Ÿæ˜¯è½¯ä»¶æ¶æ„å¯¹ç³»ç»Ÿè¿è¡Œçš„å½±å“è¿œæ²¡æœ‰å®ƒå¯¹å¼€å‘ã€éƒ¨ç½²ã€ç»´æŠ¤çš„å½±å“é‚£ä¹ˆæ·±è¿œçš„ä¸€ä¸ªåŸå› ã€‚</p></blockquote><p>This is not to say that an architecture that is well tuned to the operation of the system is not desirable. It is! Itâ€™s just that the cost equation leans more toward development, deployment, and maintenance.</p><blockquote><p>å½“ç„¶ï¼Œè¿™å¹¶ä¸æ˜¯è¯´æˆ‘ä»¬ä¸åº”è¯¥ä¸ºäº†è®©ç³»ç»Ÿèƒ½æ›´å¥½åœ°è¿è½¬è€Œä¼˜åŒ–è½¯ä»¶çš„æ¶æ„è®¾è®¡ï¼Œè¿™æ ·åšæ˜¯åº”è¯¥çš„ï¼Œåªæ˜¯åŸºäºæŠ•å…¥/äº§å‡ºæ¯”çš„è€ƒè™‘ï¼Œæˆ‘ä»¬çš„ä¼˜åŒ–é‡å¿ƒåº”è¯¥æ›´å€¾å‘äºç³»ç»Ÿçš„å¼€å‘ã€éƒ¨ç½²ä»¥åŠç»´æŠ¤ã€‚</p></blockquote><p>Having said that, there is another role that architecture plays in the operation of the system: A good software architecture communicates the operational needs of the system.</p><blockquote><p>å³ä½¿è¿™æ ·ï¼Œè½¯ä»¶æ¶æ„åœ¨æ•´ä¸ªç³»ç»Ÿè¿è¡Œçš„è¿‡ç¨‹ä¸­è¿˜å‘æŒ¥ç€å¦å¤–ä¸€ä¸ªé‡è¦ä½œç”¨ï¼Œé‚£å°±æ˜¯ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„è½¯ä»¶æ¶æ„åº”è¯¥èƒ½æ˜ç¡®åœ°åæ˜ è¯¥ç³»ç»Ÿåœ¨è¿è¡Œæ—¶çš„éœ€æ±‚ã€‚</p></blockquote><p>Perhaps a better way to say this is that the architecture of a system makes the operation of the system readily apparent to the developers. Architecture should reveal operation. The architecture of the system should elevate the use cases, the features, and the required behaviors of the system to first-class entities that are visible landmarks for the developers. This simplifies the understanding of the system and, therefore, greatly aids in development and maintenance.</p><blockquote><p>ä¹Ÿè®¸æˆ‘ä»¬å¯ä»¥æ¢ä¸€ä¸ªæ›´å¥½çš„è¯´æ³•ï¼Œé‚£å°±æ˜¯è®¾è®¡è‰¯å¥½çš„ç³»æ¶æ„åº”è¯¥å¯ä»¥ä½¿å¼€å‘äººå‘˜å¯¹ç³»ç»Ÿçš„è¿è¡Œè¿‡ç¨‹ä¸€ç›®äº†ç„¶ã€‚æ¶æ„åº”è¯¥èµ·åˆ°æ­ç¤ºç³»ç»Ÿè¿è¡Œè¿‡ç¨‹çš„ä½œç”¨ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯è¯¥æ¶æ„åº”è¯¥å°†ç³»ç»Ÿä¸­çš„ç”¨ä¾‹ã€åŠŸèƒ½ä»¥åŠè¯¥ç³»ç»Ÿçš„å¿…å¤‡è¡Œä¸ºè®¾ç½®ä¸ºå¯¹å¼€å‘è€…å¯è§çš„ä¸€çº§å®ä½“ï¼Œç®€åŒ–å®ƒä»¬å¯¹äºç³»ç»Ÿçš„ç†è§£ï¼Œè¿™å°†ä¸ºæ•´ä¸ªç³»ç»Ÿçš„å¼€å‘ä¸ç»´æŠ¤æä¾›å¾ˆå¤§çš„å¸®åŠ©ã€‚</p></blockquote><h2 id="maintenance-ç»´æŠ¤-maintenance" tabindex="-1"><a class="header-anchor" href="#maintenance-ç»´æŠ¤-maintenance" aria-hidden="true">#</a> MAINTENANCE ç»´æŠ¤ï¼ˆMaintenanceï¼‰</h2><p>Of all the aspects of a software system, maintenance is the most costly. The never-ending parade of new features and the inevitable trail of defects and corrections consume vast amounts of human resources.</p><blockquote><p>åœ¨è½¯ä»¶ç³»ç»Ÿçš„æ‰€æœ‰æ–¹é¢ä¸­ï¼Œç»´æŠ¤æ‰€éœ€çš„æˆæœ¬æ˜¯æœ€é«˜çš„ã€‚æ»¡è¶³æ°¸ä¸åœæ­‡çš„æ–°åŠŸèƒ½éœ€æ±‚ï¼Œä»¥åŠä¿®æ”¹å±‚å‡ºä¸ç©·çš„ç³»ç»Ÿç¼ºé™·è¿™äº›å·¥ä½œå°†ä¼šå å»ç»å¤§éƒ¨åˆ†çš„äººåŠ›èµ„æºã€‚</p></blockquote><p>The primary cost of maintenance is in spelunking and risk. Spelunking is the cost of digging through the existing software, trying to determine the best place and the best strategy to add a new feature or to repair a defect. While making such changes, the likelihood of creating inadvertent defects is always there, adding to the cost of risk.</p><blockquote><p>ç³»ç»Ÿç»´æŠ¤çš„ä¸»è¦æˆæœ¬é›†ä¸­åœ¨â€œæ¢ç§˜â€å’Œâ€œé£é™©â€è¿™ä¸¤ä»¶äº‹ä¸Šã€‚å…¶ä¸­ï¼Œâ€œæ¢ç§˜ï¼ˆspelunkingï¼‰â€çš„æˆæœ¬ä¸»è¦æ¥è‡ªæˆ‘ä»¬å¯¹äºç°æœ‰è½¯ä»¶ç³»ç»Ÿçš„æŒ–æ˜ï¼Œç›®çš„æ˜¯ç¡®å®šæ–°å¢åŠŸèƒ½æˆ–è¢«ä¿®å¤é—®é¢˜çš„æœ€ä½³ä½ç½®å’Œæœ€ä½³æ–¹å¼ã€‚è€Œâ€œé£é™©ï¼ˆriskï¼‰â€ï¼Œåˆ™æ˜¯æŒ‡å½“æˆ‘ä»¬è¿›è¡Œä¸Šè¿°ä¿®æ”¹æ—¶ï¼Œæ€»æ˜¯æœ‰å¯èƒ½è¡ç”Ÿå‡ºæ–°çš„é—®é¢˜ï¼Œè¿™ç§å¯èƒ½æ€§å°±æ˜¯é£é™©æˆæœ¬ã€‚</p></blockquote><p>A carefully thought-through architecture vastly mitigates these costs. By separating the system into components, and isolating those components through stable interfaces, it is possible to illuminate the pathways for future features and greatly reduce the risk of inadvertent breakage.</p><blockquote><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç²¾é›•ç»†ç¢çš„æ¶æ„è®¾è®¡æå¤§åœ°é™ä½è¿™ä¸¤é¡¹æˆæœ¬ã€‚é€šè¿‡å°†ç³»ç»Ÿåˆ‡åˆ†ä¸ºç»„ä»¶ï¼Œå¹¶ä½¿ç”¨ç¨³å®šçš„æ¥å£å°†ç»„ä»¶éš”ç¦»ï¼Œæˆ‘ä»¬å¯ä»¥å°†æœªæ¥æ–°åŠŸèƒ½çš„æ·»åŠ æ–¹å¼æ˜ç¡®å‡ºæ¥ï¼Œå¹¶å¤§å¹…åº¦åœ°é™ä½åœ¨ä¿®æ”¹è¿‡ç¨‹ä¸­å¯¹ç³»ç»Ÿå…¶ä»–éƒ¨åˆ†é€ æˆä¼¤å®³çš„å¯èƒ½æ€§ã€‚</p></blockquote><h2 id="keeping-options-open-ä¿æŒå¯é€‰é¡¹" tabindex="-1"><a class="header-anchor" href="#keeping-options-open-ä¿æŒå¯é€‰é¡¹" aria-hidden="true">#</a> KEEPING OPTIONS OPEN ä¿æŒå¯é€‰é¡¹</h2><p>As we described in an earlier chapter, software has two types of value: the value of its behavior and the value of its structure. The second of these is the greater of the two because it is this value that makes software soft.</p><blockquote><p>æ­£å¦‚æˆ‘ä»¬åœ¨ä¹‹å‰ç« èŠ‚ä¸­æ‰€è¯´çš„ï¼Œè½¯ä»¶æœ‰è¡Œä¸ºä»·å€¼ä¸æ¶æ„ä»·å€¼ä¸¤ç§ä»·å€¼ã€‚è¿™å…¶ä¸­çš„ç¬¬äºŒç§ä»·å€¼åˆæ¯”ç¬¬ä¸€ç§æ›´é‡è¦ï¼Œå› ä¸ºå®ƒæ­£æ˜¯è½¯ä»¶ä¹‹æ‰€ä»¥â€œè½¯â€çš„åŸå› ã€‚</p></blockquote><p>Software was invented because we needed a way to quickly and easily change the behavior of machines. But that flexibility depends critically on the shape of the system, the arrangement of its components, and the way those components are interconnected.</p><blockquote><p>è½¯ä»¶è¢«å‘æ˜å‡ºæ¥å°±æ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦ä¸€ç§çµæ´»å’Œä¾¿æ·çš„æ–¹å¼æ¥æ”¹å˜æœºå™¨çš„è¡Œä¸ºã€‚è€Œè½¯ä»¶çš„çµæ´»æ€§åˆ™å–å†³äºç³»ç»Ÿçš„æ•´ä½“çŠ¶å†µã€ç»„ä»¶çš„å¸ƒç½®ä»¥åŠç»„ä»¶ä¹‹é—´çš„è¿æ¥æ–¹å¼ã€‚</p></blockquote><p>The way you keep software soft is to leave as many options open as possible, for as long as possible. What are the options that we need to leave open? They are the details that donâ€™t matter.</p><blockquote><p>æˆ‘ä»¬è®©è½¯ä»¶ç»´æŒâ€œè½¯â€æ€§çš„æ–¹æ³•å°±æ˜¯å°½å¯èƒ½é•¿æ—¶é—´åœ°ä¿ç•™å°½å¯èƒ½å¤šçš„å¯é€‰é¡¹ã€‚é‚£ä¹ˆåˆ°åº•å“ªäº›é€‰é¡¹æ˜¯æˆ‘ä»¬åº”è¯¥ä¿ç•™çš„ï¼Ÿå®ƒä»¬å°±æ˜¯é‚£äº›æ— å…³ç´§è¦çš„ç»†èŠ‚è®¾è®¡ã€‚</p></blockquote><p>All software systems can be decomposed into two major elements: policy and details. The policy element embodies all the business rules and procedures. The policy is where the true value of the system lives.</p><blockquote><p>åŸºæœ¬ä¸Šï¼Œæ‰€æœ‰çš„è½¯ä»¶ç³»ç»Ÿéƒ¨å¯ä»¥é™è§£ä¸ºç­–ç•¥æ‰“ç»†èŠ‚è¿™ä¸¤ç§ä¸»è¦å…ƒç´ ã€‚ç­–ç•¥ä½“ç°çš„æ˜¯è½¯ä»¶ä¸­æ‰€æœ‰çš„ä¸šåŠ¡è§„åˆ™ä¸æ“ä½œè¿‡ç¨‹ï¼Œå› æ­¤å®ƒæ˜¯ç³»ç»ŸçœŸæ­£çš„ä»·å€¼æ‰€åœ¨ã€‚</p></blockquote><p>The details are those things that are necessary to enable humans, other systems, and programmers to communicate with the policy, but that do not impact the behavior of the policy at all. They include IO devices, databases, web systems, servers, frameworks, communication protocols, and so forth.</p><blockquote><p>è€Œç»†èŠ‚åˆ™æ˜¯æŒ‡é‚£äº›è®©æ“ä½œè¯¥ç³»ç»Ÿçš„äººã€å…¶ä»–ç³»ç»Ÿä»¥åŠç¨‹åºå‘˜ä»¬ä¸ç­–ç•¥è¿›è¡Œäº¤äº’ï¼Œä½†æ˜¯åˆä¸ä¼šå½±å“åˆ°ç­–ç•¥æœ¬èº«çš„è¡Œä¸ºã€‚å®ƒä»¬åŒ…æ‹¬ I/O è®¾å¤‡ã€æ•°æ®åº“ã€Web ç³»ç»Ÿã€æœåŠ¡å™¨ã€æ¡†æ¶ã€äº¤äº’åè®®ç­‰ã€‚</p></blockquote><p>The goal of the architect is to create a shape for the system that recognizes policy as the most essential element of the system while making the details irrelevant to that policy. This allows decisions about those details to be delayed and deferred.</p><blockquote><p>è½¯ä»¶æ¶æ„å¸ˆçš„ç›®æ ‡æ˜¯åˆ›å»ºä¸€ç§ç³»ç»Ÿå½¢æ€ï¼Œè¯¥å½¢æ€ä¼šä»¥ç­–ç•¥ä¸ºæœ€åŸºæœ¬çš„å…ƒç´ ï¼Œå¹¶è®©ç»†èŠ‚ä¸ç­–ç•¥è„±ç¦»å…³ç³»ï¼Œä»¥å…è®¸åœ¨å…·ä½“å†³ç­–è¿‡ç¨‹ä¸­æ¨è¿Ÿæˆ–å»¶è¿Ÿä¸ç»†èŠ‚ç›¸å…³çš„å†…å®¹ã€‚</p></blockquote><p>For example:</p><blockquote><p>ä¾‹å¦‚ï¼Œ</p></blockquote><ul><li>It is not necessary to choose a database system in the early days of development, because the high-level policy should not care which kind of database will be used. Indeed, if the architect is careful, the high-level policy will not care if the database is relational, distributed, hierarchical, or just plain flat files.</li><li>It is not necessary to choose a web server early in development, because the high-level policy should not know that it is being delivered over the web. If the high-level policy is unaware of HTML, AJAX, JSP, JSF, or any of the rest of the alphabet soup of web development, then you donâ€™t need to decide which web system to use until much later in the project. Indeed, you donâ€™t even have to decide if the system will be delivered over the web.</li><li>It is not necessary to adopt REST early in development, because the high-level policy should be agnostic about the interface to the outside world. Nor is it necessary to adopt a micro-services framework, or a SOA framework. Again, the high-level policy should not care about these things.</li><li>It is not necessary to adopt a dependency injection framework early in development, because the high-level policy should not care how dependencies are resolved.</li></ul><hr><blockquote><ul><li>åœ¨å¼€å‘çš„æ—©æœŸé˜¶æ®µåº”è¯¥æ— é¡»é€‰æ‹©æ•°æ®åº“ç³»ç»Ÿï¼Œå› ä¸ºè½¯ä»¶çš„é«˜å±‚ç­–ç•¥ä¸åº”è¯¥å…³å¿ƒå…¶åº•å±‚åˆ°åº•ä½¿ç”¨å“ªä¸€ç§æ•°æ®åº“ã€‚äº‹å®ä¸Šï¼Œå¦‚æœè½¯ä»¶æ¶æ„å¸ˆè¶³å¤Ÿå°å¿ƒï¼Œè½¯ä»¶çš„é«˜å±‚ç­–ç•¥ç”šè‡³å¯ä»¥ä¸ç”¨å…³å¿ƒè¯¥æ•°æ®åº“æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Œè¿˜æ˜¯åˆ†å¸ƒå¼æ•°æ®åº“ï¼Œæ˜¯å¤šçº§æ•°æ®åº“ï¼Œè¿˜åªæ˜¯ä¸€äº›æ–‡æœ¬æ–‡ä»¶è€Œå·²ã€‚</li><li>åœ¨å¼€å‘çš„æ—©æœŸé˜¶æ®µä¹Ÿä¸åº”è¯¥é€‰å®šä½¿ç”¨çš„ Web æœåŠ¡ï¼Œå› ä¸ºé«˜å±‚ç­–ç•¥å¹¶ä¸åº”è¯¥çŸ¥é“è‡ªå·±æœªæ¥è¦ä»¥ç½‘é¡µå½¢å¼å‘å¸ƒã€‚å¦‚æœé«˜å±‚ç­–ç•¥èƒ½å¤Ÿä¸ HTMLã€AJAXã€JSPã€JSF æˆ–ä»»ä½• Web å¼€å‘æŠ€æœ¯è„±é’©ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å°†å¯¹ Web ç³»ç»Ÿçš„é€‰æ‹©æ¨è¿Ÿåˆ°é¡¹ç›®çš„æœ€åé˜¶æ®µã€‚äº‹å®ä¸Šï¼Œå¾ˆæœ‰å¯èƒ½æˆ‘ä»¬å‹æ ¹ä¸éœ€è¦è€ƒè™‘è¿™ä¸ªç³»ç»Ÿåˆ°åº•æ˜¯ä¸æ˜¯ä»¥ç½‘é¡µå½¢å¼å‘å¸ƒçš„ã€‚</li><li>åœ¨å¼€å‘çš„æ—©æœŸé˜¶æ®µä¸åº”è¯¥è¿‡æ—©åœ°é‡‡ç”¨ REST æ¨¡å¼ï¼Œå› ä¸ºè½¯ä»¶çš„é«˜å±‚ç­–ç•¥åº”è¯¥ä¸å¤–éƒ¨æ¥å£æ— å…³ã€‚åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿä¸åº”è¯¥è¿‡æ—©åœ°è€ƒè™‘é‡‡ç”¨å¾®æœåŠ¡æ¡†æ¶ã€SOA æ¡†æ¶ç­‰ã€‚å†è¯´ä¸€éï¼Œè½¯ä»¶çš„é«˜å±‚ç­–ç•¥å‹æ ¹ä¸åº”è¯¥è·Ÿè¿™äº›æœ‰å…³ã€‚</li><li>åœ¨å¼€å‘çš„æ—©æœŸé˜¶æ®µä¸åº”è¿‡æ—©åœ°é‡‡ç”¨ä¾èµ–æ³¨å…¥æ¡†æ¶ï¼ˆdependency injection frameworkï¼‰ï¼Œå› ä¸ºé«˜å±‚ç­–ç•¥ä¸åº”è¯¥æ“å¿ƒå¦‚ä½•è§£æç³»ç»Ÿçš„ä¾èµ–å…³ç³»ã€‚</li></ul></blockquote><p>I think you get the point. If you can develop the high-level policy without committing to the details that surround it, you can delay and defer decisions about those details for a long time. And the longer you wait to make those decisions, the more information you have with which to make them properly.</p><blockquote><p>è¯´åˆ°è¿™é‡Œï¼Œæˆ‘æƒ³è¯»è€…åº”è¯¥æ˜ç™½æˆ‘çš„æ„æ€äº†ã€‚å¦‚æœåœ¨å¼€å‘é«˜å±‚ç­–ç•¥æ—¶æœ‰æ„åœ°è®©è‡ªè‡ªæ‘†è„±å…·ä½“ç»†èŠ‚çš„çº ç¼ ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†ä¸å…·ä½“å®ç°ç›¸å…³çš„ç»†èŠ‚å†³ç­–æ¨è¿Ÿæˆ–å»¶åï¼Œå› ä¸ºè¶Šåˆ°é¡¹ç›®çš„åæœŸï¼Œæˆ‘ä»¬å°±æ‹¥æœ‰è¶Šå¤šçš„ä¿¡æ¯æ¥åšå‡ºåˆç†çš„å†³ç­–ã€‚</p></blockquote><p>This also leaves you the option to try different experiments. If you have a portion of the high-level policy working, and it is agnostic about the database, you could try connecting it to several different databases to check applicability and performance. The same is true with web systems, web frameworks, or even the web itself.</p><blockquote><p>åŒæ—¶ï¼Œè¿™æ ·åšè¿˜å¯ä»¥è®©æˆ‘ä»¬æœ‰æœºä¼šåšä¸åŒçš„å°è¯•ã€‚ä¾‹å¦‚ã€‚å¦‚æœæˆ‘ä»¬ç°åœ¨æ‰‹é‡Œæœ‰ä¸€éƒ¨åˆ†ä¸æ•°æ®åº“æ— å…³çš„é«˜å±‚ç­–ç•¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç”¨ä¸åŒçš„æ•°æ®åº“æ¥åšå®éªŒï¼Œä»¥æ£€éªŒè¯¥ç³»ç»Ÿä¸ä¸åŒæ•°æ®åº“ä¹‹é—´çš„é€‚åº”æ€§ä»¶å’Œæ€§èƒ½ã€‚ç±»ä¼¼çš„æƒ…å†µä¹Ÿé€‚ç”¨äºå„ç§ Web æ¡†æ¶ï¼Œç”šè‡³ Web è¿™ç§å‘å¸ƒå½¢å¼æœ¬èº«ã€‚</p></blockquote><p>The longer you leave options open, the more experiments you can run, the more things you can try, and the more information you will have when you reach the point at which those decisions can no longer be deferred.</p><blockquote><p>å¦å¤–ï¼Œæˆ‘ä»¬ä¿ç•™è¿™äº›å¯é€‰é¡¹çš„æ—¶é—´è¶Šé•¿ï¼Œå®éªŒçš„æœºä¼šä¹Ÿå°±è¶Šå¤šã€‚è€Œå®éªŒåšå¾—è¶Šå¤šï¼Œæˆ‘ä»¬åšå†³ç­–çš„æ—¶å€™å°±èƒ½æ‹¥æœ‰è¶Šå……è¶³çš„ä¿¡æ¯ã€‚</p></blockquote><p>What if the decisions have already been made by someone else? What if your company has made a commitment to a certain database, or a certain web server, or a certain framework? A good architect pretends that the decision has not been made, and shapes the system such that those decisions can still be deferred or changed for as long as possible.</p><blockquote><p>é‚£ä¹ˆå¦‚æœå…¶ä»–äººå·²ç»æ›¿æˆ‘ä»¬åšå‡ºäº†å†³ç­–å‘¢ï¼Ÿè­¬å¦‚è¯´ï¼Œæˆ‘ä»¬çš„å…¬å¸å·²ç»æŒ‡å®šäº†æŸä¸ªæ•°æ®åº“ï¼Œæˆ–æŸç§ Web æœåŠ¡ï¼Œæˆ–æŸä¸ªæ¡†æ¶ï¼Œè¿™æ—¶åº”è¯¥æ€ä¹ˆåŠï¼Ÿé€šå¸¸ä¸€ä¸ªä¼˜ç§€çš„è½¯ä»¶æ¶æ„å¸ˆä¼šå‡è£…è¿™äº›å†³ç­–è¿˜æ²¡æœ‰ç¡®å®šï¼Œå¹¶å°½å¯èƒ½é•¿æ—¶é—´åœ°è®©ç³»ç»Ÿæœ‰æ¨è¿Ÿæˆ–ä¿®æ”¹è¿™äº›å†³ç­–çš„èƒ½åŠ›ã€‚</p></blockquote><p>A good architect maximizes the number of decisions not made.</p><blockquote><p>ä¸€ä¸ªä¼˜ç§€çš„è½¯ä»¶æ¶æ„å¸ˆåº”è¯¥è‡´åŠ›äºæœ€å¤§åŒ–å¯é€‰é¡¹æ•°é‡ã€‚</p></blockquote><h2 id="device-independence-è®¾å¤‡æ— å…³æ€§" tabindex="-1"><a class="header-anchor" href="#device-independence-è®¾å¤‡æ— å…³æ€§" aria-hidden="true">#</a> DEVICE INDEPENDENCE è®¾å¤‡æ— å…³æ€§</h2><p>As an example of this kind of thinking, letâ€™s take a trip back to the 1960s, when computers were teenagers and most programmers were mathematicians or engineers from other disciplines (and-one third or more were women).</p><blockquote><p>å¦‚æœæƒ³è¦æ‰¾åæ˜ è¿™æ–¹é¢æ€æƒ³çš„ä¾‹å­ï¼Œæˆ‘ä»¬è¿˜å¾—å…ˆå›åˆ° 20 ä¸–çºª 60 å¹´ä»£ã€‚ç”±äºå½“æ—¶çš„è®¡ç®—æœºè¡Œä¸šè¿˜å¤„äºèŒèŠ½é˜¶æ®µï¼Œå¤§éƒ¨åˆ†ç¨‹åºå‘˜éƒ½æ¥è‡ªæ•°å­¦ä¸“ä¸šï¼Œæˆ–è€…æ˜¯å…¶ä»–å·¥ç¨‹ç±»ä¸“ä¸šï¼ˆå½“æ—¶è¶…è¿‡ä¸‰åˆ†ä¹‹ä¸€çš„ç¨‹åºå‘˜æ˜¯å¥³æ€§ï¼‰ã€‚</p></blockquote><p>In those days we made a lot of mistakes. We didnâ€™t know they were mistakes at the time, of course. How could we?</p><blockquote><p>å½“æ—¶ï¼Œæˆ‘ä»¬æ›¾ç»çŠ¯è¿‡å¾ˆå¤šé”™è¯¯ï¼Œè€Œä¸”è¿˜æ²¡æœ‰äººçŸ¥é“é‚£äº›æ˜¯é”™è¯¯ã€‚å½“ç„¶äº†ï¼Œé‚£æ—¶å€™æˆ‘ä»¬æ€ä¹ˆå¯èƒ½çŸ¥é“?</p></blockquote><p>One of those mistakes was to bind our code directly to the IO devices. If we needed to print something on a printer, we wrote code that used the IO instructions that would control the printer. Our code was device dependent.</p><blockquote><p>å…¶ä¸­ä¸€ä¸ªé”™è¯¯å°±æ˜¯å°†ä»£ç ä¸ I/O è®¾å¤‡ç›´æ¥ç´§å¯†åœ°ç»‘å®šåœ¨ä¸€èµ·ã€‚å½“æ—¶ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ç”¨æ‰“å°æœºæ‰“å°ä¸œè¥¿ï¼Œå°±å¾—ä¸“é—¨å†™ä¸€æ®µ I/O æŒ‡ä»¤æ¥æ“ä½œæ‰“å°æœºï¼Œå› æ­¤æˆ‘ä»¬çš„ä»£ç æ˜¯ä¾èµ–äºè®¾å¤‡çš„ã€‚</p></blockquote><p>For example, when I wrote PDP-8 programs that printed on the teleprinter, I used a set of machine instructions that looked like this:</p><blockquote><p>ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬è¦å†™ä¸€æ®µè¦åœ¨ç”µä¼ æ‰“å°æœºä¸Šè¾“å‡ºçš„ PDP-8 ç¨‹åºæ—¶ï¼Œéœ€è¦ç”¨åˆ°åƒä¸‹é¢è¿™æ ·ä¸€ç»„æœºå™¨æŒ‡ä»¤ï¼š</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>PRTCHR, 0
        TSF
        JMP .-1
        TLS
        JMP I PRTCHR
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>PRTCHR is a subroutine that prints one character on the teleprinter. The beginning zero was used as the storage for the return address. (Donâ€™t ask.) The TSF instruction skipped the next instruction if the teleprinter was ready to print a character. If the teleprinter was busy, then TSF just fell through to the JMP .-1 instruction, which just jumped back to the TSF instruction. If the teleprinter was ready, then TSF would skip to the TLS instruction, which sent the character in the A register to the teleprinter. Then the JMP I PRTCHR instruction returned to the caller.</p><blockquote><p>è¿™é‡Œçš„ PRTCHR æ˜¯ç”µä¼ æ‰“å°æœºä¸Šä¸€æ®µç”¨æ¥æ‰“å°å­—ç¬¦çš„å­ç¨‹åºã€‚é¦–è¯­å¥ä¸­çš„ 0 æ˜¯å­˜å‚¨å…¶è¿”å›åœ°å€ç”¨çš„ï¼ˆè¿™é‡Œå°±ä¸è¦ç»†ç©¶è¿™äº›äº†ï¼‰ã€‚ä¸‹æ¥æ˜¯ TSF æŒ‡ä»¤ï¼Œå®ƒçš„ä½œç”¨æ˜¯å‘Šè¯‰ç”µä¼ ä¸‰å°æœºå¦‚æœå‡†å¤‡å°±ç»ªï¼Œå°±è·³è¿‡ä¸‹ä¸€æŒ‡ä»¤ã€‚å¦‚æœç”µä¼ æ‰“å°æœºå¤„äºç¹å¿™çŠ¶æ€ï¼Œå°±ç»§ç»­æ‰§è¡Œ <code>JMP.-1</code> æŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯å†è·³è½¬å› TSF æŒ‡ä»¤ã€‚ä¸€æ—¦ç”µä¼ æ‰“å°æœºå¤„äºå°±ç»ªçŠ¶æ€ï¼ŒTSF å°±ä¼šè·³è½¬åˆ° TLS æŒ‡ä»¤ï¼Œè¯¥æŒ‡ä»¤ä¼šå°† A å¯„å­˜å™¨ä¸­ä¿å­˜çš„è¦æ‰“å°çš„å­—ç¬¦å‘é€ç»™ç”µä¼ æ‰“å°æœºã€‚éšåï¼ŒJMP I PRTCHR æŒ‡ä»¤ä¼šå°†ç¨‹åºè¿”å›ç»™è°ƒç”¨æ–¹ã€‚</p></blockquote><p>At first this strategy worked fine. If we needed to read cards from the card reader, we used code that talked directly to the card reader. If we needed to punch cards, we wrote code that directly manipulated the punch. The programs worked perfectly. How could we know this was a mistake?</p><blockquote><p>ä¸€å¼€å§‹ï¼Œè¿™ä¸€ç­–ç•¥å·¥ä½œèµ·æ¥å®Œå…¨æ²¡æœ‰é—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦ä»è¯»å¡å™¨ä¸­è¯»å–å¡ç‰‡ï¼Œæˆ‘ä»¬å°±ç›´æ¥ç”¨ä»£ç ä¸è¯»å¡å™¨è¿›è¡Œäº¤äº’ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨å¡ä¸Šæ‰“å­”ï¼Œå°±å†™ä¸€æ®µä»£ç ç›´æ¥æ§åˆ¶æ‰“å¡çš„è¿‡ç¨‹ã€‚æ•´å¥—ç¨‹åºè¿è¡Œå¾—éå¸¸å®Œç¾ã€‚æˆ‘ä»¬å½“æ—¶æ€ä¹ˆä¼šçŸ¥é“è¿™æ˜¯ä¸€ä¸ªé”™è¯¯å‘¢ï¼Ÿ</p></blockquote><p>But big batches of punched cards are difficult to manage. They can be lost, mutilated, spindled, shuffled, or dropped. Individual cards can be lost and extra cards can be inserted. So data integrity became a significant problem.</p><blockquote><p>ç„¶è€Œï¼Œç®¡ç†å¤§é‡çš„å¡ç‰‡æ˜¯ä¸€ä»¶å¾ˆéº»çƒ¦çš„äº‹ã€‚è¿™äº›å¡ç‰‡å¯èƒ½ä¼šå‡ºç°ä¸¢å¤±ã€æŸåã€æ—‹è½¬ã€æ’åºé”™è¯¯ç­‰é—®é¢˜ã€‚å„éƒ¨åˆ†çš„å¡ç‰‡éƒ½æœ‰å¯èƒ½ä¸¢å¤±æˆ–æ··å…¥å¤šä½™çš„å¡ç‰‡ï¼Œä¿æŒæ•°æ®çš„ä¸€è‡´æ€§æ˜¯å½“æ—¶çš„ä¸€å¤§éš¾é¢˜ã€‚</p></blockquote><p>Magnetic tape was the solution. We could move the card images to tape. If you drop a magnetic tape, the records donâ€™t get shuffled. You canâ€™t accidentally lose a record, or insert a blank record simply by handing the tape. The tape is much more secure. Itâ€™s also faster to read and write, and it is very easy to make backup copies.</p><blockquote><p>åæ¥å°±å‡ºç°äº†ç£å¸¦è¿™ç§è§£å†³æ–¹æ¡ˆã€‚å®ƒå…è®¸æˆ‘ä»¬å°†åŸæœ¬æ‰“åœ¨å¡ç‰‡ä¸Šçš„å›¾åƒå­˜å‚¨åœ¨ç£å¸¦ä¸Šã€‚å¦‚æœç£å¸¦ä¸å°å¿ƒæ‰åœ¨åœ°ä¸Šï¼Œä¸ä¼šå‡ºç°é¡ºåºè¢«æ‰“ä¹±çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿä¸ä¼šå› æ­¤æ„å¤–ä¸¢å¤±è®°å½•ï¼Œæˆ–è€…å¤„ç†ç£å¸¦æ—¶æ„å¤–æ’å…¥ç©ºç™½è®°å½•ã€‚æ˜¾ç„¶ï¼Œç£å¸¦æ˜¯æ›´å®‰å…¨çš„é€‰æ‹©ï¼Œè€Œä¸”å®ƒçš„è¯»å–å’Œå†™å…¥ä¹Ÿæ›´å¿«ï¼ŒåŒæ—¶ä¹Ÿå¾ˆå®¹æ˜“è¿›è¡Œå¤‡ä»½ã€‚</p></blockquote><p>Unfortunately, all our software was written to manipulate card readers and card punches. Those programs had to be rewritten to use magnetic tape. That was a big job.</p><blockquote><p>ä½†ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘ä»¬å½“æ—¶æ‰€æœ‰çš„è½¯ä»¶éƒ½æ˜¯ç”¨äºç›´æ¥æ“ä½œè¯»å¡å™¨å’Œæ‰“å¡å™¨çš„ã€‚ä¸ºäº†è®©è¿™äº›è½¯ä»¶æ”¹ç”¨ç£å¸¦ï¼Œæˆ‘ä»¬ä¸å¾—ä¸èŠ±å¾ˆå¤§çš„åŠ›æ°”é‡æ–°ä¿®æ”¹ä»£ç ã€‚</p></blockquote><p>By the late 1960s, we had learned our lessonâ€”and we invented device independence. The operating systems of the day abstracted the IO devices into software functions that handled unit records that looked like cards. The programs would invoke operating system services that dealt with abstract unit-record devices. Operators could tell the operating system whether those abstract services should be connected to card readers, magnetic tape, or any other unit-record device.</p><blockquote><p>åˆ°äº† 20 ä¸–çºª 60 å¹´ä»£æœ«æœŸï¼Œæˆ‘ä»¬å·±ç»å¸å–äº†è¿™ä¸ªæ•™è®­ï¼Œå¹¶ä¸ºæ­¤æå‡ºäº†è®¾å¤‡æ— å…³æ€§è¿™ä¸ªæ¦‚å¿µã€‚å½“æ—¶çš„æ“ä½œç³»ç»Ÿä¼šå°† I/O è®¾å¤‡æŠ½è±¡æˆæ‰“å­”å¡é‚£æ ·çš„ï¼Œå¤„ç†ä¸€æ¡æ¡è®°å½•çš„æ ‡å‡†è½¯ä»¶å‡½æ•°ã€‚æˆ‘ä»¬å†™çš„ç¨‹åºä¼šé€šè¿‡è°ƒç”¨æ“ä½œç³»ç»Ÿæä¾›çš„æœåŠ¡æ¥ä¸æŠ½è±¡çš„è®°å½•å¤„ç†å‡½æ•°è¿›è¡Œäº¤äº’ã€‚è€Œç³»ç»Ÿè¿è¡Œäººå‘˜å¯ä»¥å°†æ“ä½œç³»ç»Ÿçš„æŠ½è±¡è®¾å¤‡ä¸å…·ä½“çš„è¯»å¡å™¨ã€ç£å¸¦è¯»å–å™¨ä»¥åŠå…¶ä»–ç±»ä¼¼çš„è®¾å¤‡è¿›è¡Œå¯¹æ¥ã€‚</p></blockquote><p>Now the same program could read and write cards, or read and write tape, without any change. The Openâ€“Closed Principle was born (but not yet named).</p><blockquote><p>è¿™æ ·ä¸€æ¥ï¼ŒåŒä¸€æ®µç¨‹åºä¸ç»ä»»ä½•ä¿®æ”¹å°±æ—¢å¯ä»¥è¯»/å†™å¡ç‰‡ï¼Œä¹Ÿå¯ä»¥è¯»/å†™ç£å¸¦ã€‚å¼€é—­åŸåˆ™ï¼ˆOCPï¼‰æ­¤æ—¶å°±è¯ç”Ÿäº†ï¼ˆå½“ç„¶ï¼Œé‚£æ—¶å€™è¿˜ä¸å«è¿™ä¸ªåå­—ï¼‰ã€‚</p></blockquote><h2 id="junk-mail-åƒåœ¾é‚®ä»¶" tabindex="-1"><a class="header-anchor" href="#junk-mail-åƒåœ¾é‚®ä»¶" aria-hidden="true">#</a> JUNK MAIL åƒåœ¾é‚®ä»¶</h2><p>In the late 1960s, I worked for a company that printed junk mail for clients. The clients would send us magnetic tapes with unit records containing the names and addresses of their customers, and we would write programs that printed nice personalized advertisements.</p><blockquote><p>20 ä¸–çºª 60 å¹´åº•æœ«æœŸï¼Œæˆ‘æ›¾ç»åœ¨ä¸€å®¶ä¸ºå®¢æˆ·æ‰“å°ç¾¤å‘åƒåœ¾é‚®ä»¶çš„å…¬å¸å·¥ä½œã€‚å½“æ—¶ï¼Œå®¢æˆ·ä¼šå°†ä¸€æ¡æ¡ä¸æ¶ˆè´¹è€…åå­—å’Œåœ°å€ç›¸å…³çš„è®°å½•å­˜å‚¨åœ¨ç£å¸¦ä¸­å¹¶å¯„ç»™æˆ‘ä»¬ï¼Œæˆ‘ä»¬åˆ™è´Ÿè´£ç¼–å†™ç¨‹åºä¸ºä»–ä»¬æ‰“å°ä¸ªäººåŒ–çš„å¹¿å‘Šã€‚</p></blockquote><p>You know the kind:</p><p>Hello Mr. Martin,</p><p>Congratulations!</p><p>We chose YOU from everyone else who lives on Witchwood Lane to participate in our new fantastic one-time-only offeringâ€¦</p><hr><blockquote><p>ç›¸ä¿¡ä¸‹é¢è¿™äº›é‚®ä»¶è¯»è€…ä¸€å®šä¸é™Œç”Ÿã€‚</p><p>Helloï¼Œé©¬ä¸å…ˆç”Ÿï¼š</p><p>æ­å–œï¼</p><p>æ‚¨æ˜¯ Witchwood Lane ä¸Šå”¯ä¸€è¢«é€‰ä¸­å‚åŠ æˆ‘ä»¬ä»…æœ‰ä¸€æ¬¡çš„ç‰¹æƒ æ´»åŠ¨...</p></blockquote><p>The clients would send us huge rolls of form letters with all the words except the name and address, and any other element they wanted us to print. We wrote programs that extracted the names, addresses, and other elements from the magnetic tape, and printed those elements exactly where they needed to appear on the forms.</p><blockquote><p>å®¢æˆ·ä¼šç»™æˆ‘ä»¬å¯„æ¥ä¸€å¤§å·ä¿¡çº¸ï¼Œå…¶ä¸­çš„å§“åå’Œåœ°å€ç•™ç©ºï¼Œå…¶ä»–æ–‡å­—éƒ½å·²ç»å¡«å¥½ã€‚æˆ‘ä»¬çš„ç¨‹åºéœ€è¦ä»ç£å¸¦ä¸Šè¯»å–å§“åã€åœ°å€ç­‰ä¿¡æ¯ï¼Œç„¶åå°†è¿™äº›ä¿¡æ¯ç²¾ç¡®åœ°æ‰“å°åœ¨ä¿¡çº¸ä¸Šçš„å¯¹åº”ä½ç½®ã€‚</p></blockquote><p>These rolls of form letters weighed 500 pounds and contained thousands of letters. Clients would send us hundreds of these rolls. We would print each one individually.</p><blockquote><p>è¿™æ ·çš„æ¯ä¸€å·ä¿¡çº¸é‡Œé¢æœ‰å‡ åƒå°ä¿¡ï¼Œé‡é‡è¿‘ 500 ç£…ï¼Œè€Œä¸”é€šå¸¸æœ‰æ•°ç™¾å·ä¹‹å¤šï¼Œæˆ‘ä»¬å¿…é¡»ä¸€å°ä¸€å°åœ°æ‰“å°ã€‚</p></blockquote><p>At first, we had an IBM 360 doing the printing on its sole line printer. We could print a few thousand letters per shift. Unfortunately, this tied up a very expensive machine for a very long time. In those days, IBM 360s rented for tens of thousands of dollars per month.</p><blockquote><p>èµ·åˆï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ IBM 360 è‡ªå¸¦çš„å•è¡Œæ‰“å°æœºï¼Œå®ƒæ¯ä¸ªå·¥ä½œæ—¥å¯ä»¥æ‰“å°å‡ åƒå¼ ã€‚ä½†æ˜¯ï¼Œå½“æ—¶ IBM 360 æ¯ä¸ªæœˆçš„ç§Ÿé‡‘è¦å‡ ä¸‡ç¾é‡‘ï¼Œæˆæœ¬å¤ªé«˜äº†ã€‚</p></blockquote><p>So we told the operating system to use magnetic tape instead of the line printer. Our programs didnâ€™t care, because they had been written to use the IO abstractions of the operating system.</p><blockquote><p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦è®©æ“ä½œç³»ç»Ÿæ”¾å¼ƒå•è¡Œæ‰“å°æœºï¼Œæ”¹ç”¨ç£å¸¦å³å¯ï¼Œæˆ‘ä»¬çš„ç¨‹åºä¸éœ€è¦åšä»»ä½•çš„æ”¹åŠ¨ï¼Œå› ä¸ºå®ƒä»¬ä½¿ç”¨çš„æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„æŠ½è±¡ I/O è®¾å¤‡æ¥å£ã€‚</p></blockquote><p>The 360 could pump out a full tape in 10 minutes or soâ€”enough to print several rolls of form letters. The tapes were taken outside of the computer room and mounted on tape drives connected to offline printers. We had five of them, and we ran those five printers 24 hours per day, seven days per week, printing hundreds of thousands of pieces of junk mail every week.</p><blockquote><p>è€Œä¸” IBM 360 æœºå™¨æ¯ 10 åˆ†é’Ÿå°±å¯ä»¥å†™æ»¡ä¸€å·ç£å¸¦â€”â€”è¿™ä¸€æ—¶é—´è¶³å¤Ÿå•è¡Œæ‰“å°æœºæ‰“å°å‡ å·ä¿¡çº¸äº†ã€‚ç„¶åè¿™äº›ç£å¸¦å¯ä»¥ä»è®¡ç®—æœºä¸Šå–ä¸‹ï¼Œè£…è½½åˆ°ç¦»çº¿æ‰“å°æœºä¸Šè¿›è¡Œç¦»çº¿æ‰“å°ã€‚å½“æ—¶æˆ‘ä»¬æœ‰äº”å°è¿™æ ·çš„æ‰“å°æœºï¼Œå®ƒä»¬å¯ä»¥ 7x24 å°æ—¶ä¸åœåœ°å·¥ä½œï¼Œæ¯å‘¨å¯ä»¥æ‰“å°å‡ åä¸‡å°ä¿¡ã€‚</p></blockquote><p>The value of device independence was enormous! We could write our programs without knowing or caring which device would be used. We could test those programs using the local line printer connected to the computer. Then we could tell the operating system to â€œprintâ€ to magnetic tape and run off hundreds of thousands of forms.</p><blockquote><p>è®¾å¤‡æ— å…³æ€§çš„ä»·å€¼çœŸæ˜¯å¤ªå·¨å¤§äº†ï¼å®ƒä½¿æˆ‘ä»¬çš„ç¨‹åºä¸å†éœ€è¦å…³å¿ƒå…·ä½“ä½¿ç”¨çš„ I/O è®¾å¤‡ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æœ¬åœ°è¿æ¥çš„æ‰“å°æœºæ¥è°ƒè¯•ç¨‹åºï¼Œéšåå°†å®ƒâ€œæ‰“å°â€åˆ°ç£å¸¦å·ä¸Šï¼Œå¹¶æ”¾åˆ°ç¦»çº¿æ‰“å°æœºä¸Šè¿›è¡Œæ‰¹é‡æ‰“å°ã€‚</p></blockquote><p>Our programs had a shape. That shape disconnected policy from detail. The policy was the formatting of the name and address records. The detail was the device. We deferred the decision about which device we would use.</p><blockquote><p>è¿™æ®µç¨‹åºæ˜¯æœ‰æ¶æ„è®¾è®¡çš„ï¼Œå¹¶ä¸”åœ¨è®¾è®¡ä¸­å®ç°äº†é«˜å±‚ç­–ç•¥ä¸åº•å±‚å®ç°ç»†èŠ‚çš„åˆ†ç¦»ã€‚å…¶ç­–ç•¥éƒ¨åˆ†è´Ÿè´£æ ¼å¼åŒ–å§“åå’Œåœ°å€ï¼Œç»†èŠ‚éƒ¨åˆ†è´Ÿè´£æ“ä½œå…·ä½“çš„ I/O è®¾å¤‡ã€‚è€Œæˆ‘ä»¬å…·ä½“é‡‡ç”¨å“ªä¸ªè®¾å¤‡çš„å†³ç­–æ˜¯æœ€åæ‰åšå‡ºçš„ã€‚</p></blockquote><h2 id="physical-addressing-ç‰©ç†åœ°å€å¯»å€" tabindex="-1"><a class="header-anchor" href="#physical-addressing-ç‰©ç†åœ°å€å¯»å€" aria-hidden="true">#</a> PHYSICAL ADDRESSING ç‰©ç†åœ°å€å¯»å€</h2><p>In the early 1970s, I worked on a large accounting system for a local truckers union. We had a 25MB disk drive on which we stored records for Agents, Employers, and Members. The different records had different sizes, so we formatted the first few cylinders of the disk so that each sector was just the size of an Agent record. The next few cylinders were formatted to have sectors that fit the Employer records. The last few cylinders were formatted to fit the Member records.</p><blockquote><p>20 ä¸–çºª 70 å¹´ä»£æ—©æœŸï¼Œæˆ‘æ›¾ä¸ºæœ¬åœ°å¡è½¦å·¥ä¼šç¼–å†™è¿‡ä¸€å¥—å¤§å‹çš„è´¦åŠ¡ç³»ç»Ÿã€‚å½“æ—¶ï¼ŒAgentã€Employerã€Member è¿™äº›è®°å½•éƒ½è¢«å­˜å‚¨åœ¨ä¸€å— 25MB å¤§å°çš„ç£ç›˜ä¸Šã€‚ç”±äºä¸åŒçš„è®°å½•å°ºå¯¸ä¸åŒï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ç£ç›˜çš„å‰å‡ ä¸ªæŸ±é¢ï¼ˆcylinderï¼‰æŒ‰ Agent è®°å½•çš„å¤§å°æ ¼å¼åŒ–æ¯ä¸ªæ‰‡åŒºï¼Œä¸­é—´çš„æŒ‰ Employer è®°å½•çš„å¤§å°æ ¼å¼åŒ–ï¼Œæœ€åå‡ ä¸ªæŸ±é¢æŒ‰ç…§ Member è®°å½•çš„å¤§å°æ ¼å¼åŒ–ã€‚</p></blockquote><p>We wrote our software to know the detailed structure of the disk. It knew that the disk had 200 cylinders and 10 heads, and that each cylinder had several dozen sectors per head. It knew which cylinders held the Agents, Employers, and Members. All this was hard-wired into the code.</p><blockquote><p>å½“æ—¶æˆ‘ä»¬ç¼–å†™çš„è½¯ä»¶éœ€è¦çŸ¥é“ç¡¬ç›˜çš„å…·ä½“ç»“æ„ã€‚å®ƒçŸ¥é“æ¯ä¸ªç¡¬ç›˜åŒ…å« 200 ä¸ªæŸ±é¢ï¼Œ10 ä¸ªç£å¤´ï¼Œæ¯ä¸ªæŸ±é¢æ¯ä¸ªç£å¤´æœ‰å‡ åä¸ªæ‰‡åŒºã€‚å®ƒä¹ŸçŸ¥é“å“ªäº›æŸ±é¢ä¸ŠåŒ…å«çš„æ˜¯ Agent è®°å½•ï¼Œå“ªäº›æŸ±é¢ä¸ŠåŒ…å«çš„æ˜¯ Employer å’Œ Member è®°å½•ï¼Œæˆ‘ä»¬å¯¹æ‰€æœ‰çš„è¿™äº›éƒ½è¿›è¡Œäº†ç¡¬ç¼–ç ã€‚</p></blockquote><p>We kept an index on the disk that allowed us to look up each of the Agents, Employers, and Members. This index was in yet another specially formatted set of cylinders on the disk. The Agent index was composed of records that contained the ID of an agent, and the cylinder number, head number, and sector number of that Agent record. Employers and Members had similar indices. Members were also kept in a doubly linked list on the disk. Each Member record held the cylinder, head, and sector number of the next Member record, and of the previous Member record.</p><blockquote><p>å¦å¤–ï¼Œæˆ‘ä»¬è¿˜åœ¨ç£ç›˜ä¸Šä¿ç•™äº†ä¸€ä¸ªç´¢å¼•ï¼Œä»¥æ–¹ä¾¿åç»­çš„è®°å½•æŸ¥è¯¢ã€‚è¯¥ç´¢å¼•ä¹Ÿæ˜¯é€šè¿‡ä¸€ä¸ªç‰¹åˆ«çš„æ ¼å¼è¢«å­˜å‚¨åˆ°ç£ç›˜ä¸Šçš„ã€‚è­¬å¦‚è¯´ï¼ŒAgent è®°å½•çš„ç´¢å¼•ä¸­æ¯æ¡è®°å½•åŒ…æ‹¬ Agent çš„ IDï¼Œä»¥åŠå¯¹åº”çš„æŸ±é¢å·ç ã€ç£å¤´å·ç ã€æ‰‡åŒºå·ç ã€‚Employer å’Œ Member çš„ç´¢å¼•ä¹Ÿæœ‰ç±»ä¼¼çš„ç»“æ„ã€‚å…¶ä¸­ï¼ŒMember è®°å½•ç”¨ä¸€ç§åŒå‘é“¾è¡¨ç»“æ„å­˜å‚¨åœ¨ç£ç›˜ä¸Šã€‚æ¯æ¡ Member è®°å½•éƒ½ä¼šåŒ…å«å‰ä¸€ä¸ªå’Œåä¸€ä¸ª Member è®°å½•æ‰€åœ¨çš„æŸ±é¢å·ç ã€ç£å¤´å·ç ã€æ‰‡åŒºå·ç ã€‚</p></blockquote><p>What would happen if we needed to upgrade to a new disk driveâ€”one with more heads, or one with more cylinders, or one with more sectors per cylinder? We had to write a special program to read in the old data from the old disk, and then write it out to the new disk, translating all of the cylinder/head/sector numbers. We also had to change all the hard-wiring in our codeâ€”and that hard-wiring was everywhere! All the business rules knew the cylinder/head/sector scheme in detail.</p><blockquote><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬å‡çº§æ–°ç¡¬ç›˜ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿæ–°ç¡¬ç›˜å¯èƒ½ä¼šæœ‰æ›´å¤šçš„ç£å¤´ï¼Œæ›´å¤šçš„æŸ±é¢ï¼Œæˆ–æ˜¯æ¯ä¸ªæŸ±é¢æœ‰æ›´å¤šçš„æ‰‡åŒºã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¿…é¡»ç¼–å†™ä¸€ä»‹ç‰¹æ®Šçš„ç¨‹åºä»æ—§ç£ç›˜è¯»å–æ•°æ®ï¼Œå¹¶å°†å…¶å†™å…¥æ–°ç£ç›˜ï¼ŒåŒæ—¶æ¢æ‰æŸ±é¢ã€ç£å¤´ã€æ‰‡åŒºçš„å€¼ã€‚å¦å¤–ï¼Œæˆ‘ä»¬è¿˜è¦ä¿®æ”¹ä»£ç ä¸­æ‰€æœ‰ç¡¬ç¼–ç çš„éƒ¨åˆ†â€”â€”è¿™æ ·çš„ä»£ç åˆ°å¤„éƒ½æ˜¯! æ¯•ç«Ÿæˆ‘ä»¬æ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘éƒ½å’ŒæŸ±é¢ã€ç£å¤´ã€æ‰‡åŒºçš„åˆ†é…æ–¹æ¡ˆç´§å¯†åœ°è€¦åˆåœ¨äº†ä¸€èµ·ã€‚</p></blockquote><p>One day a more experienced programmer joined our ranks. When he saw what we had done, the blood drained from his face, and he stared aghast at us, as if we were aliens of some kind. Then he gently advised us to change our addressing scheme to use relative addresses.</p><blockquote><p>ç›´åˆ°æœ‰ä¸€å¤©ï¼Œä¸€ä½æ›´æœ‰ç»éªŒæ—³ç¨‹åºå‘˜åŠ å…¥äº†æˆ‘ä»¬çš„å›¢é˜Ÿã€‚å½“ä»–çœ‹åˆ°æˆ‘ä»¬çš„ç¨‹åºå®ç°é€»è¾‘æ—¶å·®ç‚¹åè¡€ï¼Œå°±åƒè§åˆ°å¤–æ˜Ÿäººä¸€æ ·ç›¯ç€æˆ‘ä»¬çœ‹äº†åŠå¤©ã€‚éšåï¼Œä»–æ¸©æŸ”åœ°å»ºè®®æˆ‘ä»¬æ”¹ç”¨ç›¸å¯¹åœ°å€æ–¹å¼æ¥å¯»å€ã€‚</p></blockquote><p>Our wiser colleague suggested that we consider the disk to be one huge linear array of sectors, each addressable by a sequential integer. Then we could write a little conversion routine that knew the physical structure of the disk, and could translate the relative address to a cylinder/head/sector number on the fly.</p><blockquote><p>è¿™ä½èªæ˜çš„åŒäº‹å»ºè®®æˆ‘ä»¬å°†ç£ç›˜å½“æˆä¸€ä¸ªæ‰‡åŒºçš„çº¿æ€§é˜Ÿåˆ¥æ¥å¤„ç†ï¼Œç”¨ä¸€ä¸²è¿ç»­çš„æ•´æ•°æ¥å¯¹æ¯ä¸ªæ‰‡åŒºè¿›è¡Œå¯»å€ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªé’ˆå¯¹ç£ç›˜ç‰©ç†ç»“æ„çš„è½¬æ¢ç¨‹åºï¼Œä»¥ä¾¿å°†è¿™äº›ç›¸å¯¹åœ°å€åœ¨çº¿è½¬æ¢ä¸ºæŸ±é¢ã€ç£å¤´ã€æ‰‡åŒºçš„å·ç ã€‚</p></blockquote><p>Fortunately for us, we took his advice. We changed the high-level policy of the system to be agnostic about the physical structure of the disk. That allowed us to decouple the decision about disk drive structure from the application.</p><blockquote><p>å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬é‡†çº³äº†ä»–çš„å»ºè®®ã€‚æˆ‘ä»¬ä¿®æ”¹äº†ç³»ç»Ÿçš„é«˜å±‚ç­–ç•¥ï¼Œä½¿å…¶ä¸ç£ç›˜çš„ç‰©ç†ç»“æ„è„±é’©ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å…·ä½“é€‰æ‹©å“ªç§ç£ç›˜çš„å†³ç­–ä»è¯¥åº”ç”¨ç¨‹åºä¸­åˆ†ç¦»å‡ºæ¥ã€‚</p></blockquote><h2 id="conclusion-æœ¬ç« å°ç»“" tabindex="-1"><a class="header-anchor" href="#conclusion-æœ¬ç« å°ç»“" aria-hidden="true">#</a> CONCLUSION æœ¬ç« å°ç»“</h2><p>The two stories in this chapter are examples, in the small, of a principle that architects employ in the large. Good architects carefully separate details from policy, and then decouple the policy from the details so thoroughly that the policy has no knowledge of the details and does not depend on the details in any way. Good architects design the policy so that decisions about the details can be delayed and deferred for as long as possible.</p><blockquote><p>åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬ç”¨ä¸¤ä¸ªå°æ•…äº‹ç¤ºèŒƒäº†ä¸€äº›æ¶æ„å¸ˆä»¬æ™®éä¼šé‡‡ç”¨çš„è®¾è®¡åŸåˆ™ã€‚ä¼˜ç§€çš„æ¶æ„å¸ˆä¼šå°å¿ƒåœ°å°†è½¯ä»¶çš„é«˜å±‚ç­–ç•¥ä¸å…¶åº•å±‚å®ç°éš”ç¦»å¼€ï¼Œè®©é«˜å±‚ç­–ç•¥ä¸å®ç°ç»†èŠ‚è„±é’©ï¼Œä½¿å…¶ç­–ç•¥éƒ¨åˆ†å®Œå…¨ä¸éœ€è¦å…³å¿ƒåº•å±‚ç»†èŠ‚ï¼Œå½“ç„¶ä¹Ÿä¸ä¼šå¯¹è¿™äº›ç»†èŠ‚æœ‰ä»»ä½•å½¢å¼çš„ä¾èµ–ã€‚å¦å¤–ï¼Œä¼˜ç§€çš„æ¶æ„å¸ˆæ‰€è®¾è®¡çš„ç­–ç•¥åº”è¯¥å…è®¸ç³»ç»Ÿå°½å¯èƒ½åœ°æ¨è¿Ÿä¸å®ç°ç»†èŠ‚ç›¸å…³çš„å†³ç­–ï¼Œè¶Šæ™šåšå†³ç­–è¶Šå¥½ã€‚</p></blockquote></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/windily-cloud/obsidian-publish/edit/main/Publish/Publish/Clean Archtechture/ch15.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/9/20 11:11:04</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: wwww.4399li@qq.com">windilycloud</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch14.html" class="nav-link prev" aria-label="ch14.md"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><span class="icon iconfont icon-file"></span>ch14.md</div></a><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch16.html" class="nav-link next" aria-label="ch16.md"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">ch16.md<span class="icon iconfont icon-file"></span></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">ä»€ä¹ˆæ˜¯å¹¸è¤”ï¼Ÿ å¹¸ç¦å°±æ˜¯çŒ«åƒé±¼ç‹—åƒè‚‰ï¼Œå¥¥ç‰¹æ›¼æ‰“å°æ€ªå…½ï¼</div><div class="copyright">Copyright Â© 2022 Windily-Cloud</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/obsidian-publish/assets/app.887b133c.js" defer></script>
  </body>
</html>
