<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://windily-cloud.github.io/obsidian-publish/Publish/Clean%20Archtechture/ch20.html"><meta property="og:site_name" content="Windily Cloud"><meta property="og:title" content="Chap20. BUSINESS RULES ä¸šåŠ¡é€»è¾‘"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-09-20T11:11:04.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2022-09-20T11:11:04.000Z"><title>Chap20. BUSINESS RULES ä¸šåŠ¡é€»è¾‘ | Windily Cloud</title><meta name="description" content="Windily Cloud's Blog">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/obsidian-publish/assets/style.12da8f21.css">
    <link rel="modulepreload" href="/obsidian-publish/assets/app.887b133c.js"><link rel="modulepreload" href="/obsidian-publish/assets/ch20.html.b1ad3804.js"><link rel="modulepreload" href="/obsidian-publish/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/obsidian-publish/assets/ch20.html.008de7bb.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.c7e76e53.js"><link rel="prefetch" href="/obsidian-publish/assets/home.html.f01af163.js"><link rel="prefetch" href="/obsidian-publish/assets/å¯¼èˆª.html.d24325cb.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.fc3247cd.js"><link rel="prefetch" href="/obsidian-publish/assets/afterword.html.279a3dae.js"><link rel="prefetch" href="/obsidian-publish/assets/ch1.html.ad67b7a0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch10.html.74f49c94.js"><link rel="prefetch" href="/obsidian-publish/assets/ch11.html.7b8b868f.js"><link rel="prefetch" href="/obsidian-publish/assets/ch12.html.0897d88d.js"><link rel="prefetch" href="/obsidian-publish/assets/ch13.html.871f1a29.js"><link rel="prefetch" href="/obsidian-publish/assets/ch14.html.9cf7c1a7.js"><link rel="prefetch" href="/obsidian-publish/assets/ch15.html.1ee0e012.js"><link rel="prefetch" href="/obsidian-publish/assets/ch16.html.b2dc5528.js"><link rel="prefetch" href="/obsidian-publish/assets/ch17.html.d50b6029.js"><link rel="prefetch" href="/obsidian-publish/assets/ch18.html.f9083031.js"><link rel="prefetch" href="/obsidian-publish/assets/ch19.html.a8daed86.js"><link rel="prefetch" href="/obsidian-publish/assets/ch2.html.f712f0c4.js"><link rel="prefetch" href="/obsidian-publish/assets/ch21.html.bc3946ee.js"><link rel="prefetch" href="/obsidian-publish/assets/ch22.html.dcd080ee.js"><link rel="prefetch" href="/obsidian-publish/assets/ch23.html.4bd6fad0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch24.html.5af7f550.js"><link rel="prefetch" href="/obsidian-publish/assets/ch25.html.cdcf732e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch26.html.d56c6b1b.js"><link rel="prefetch" href="/obsidian-publish/assets/ch27.html.1d0c5f03.js"><link rel="prefetch" href="/obsidian-publish/assets/ch28.html.a9585c5e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch29.html.7898d2ef.js"><link rel="prefetch" href="/obsidian-publish/assets/ch3.html.4e106aa0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch30.html.efd82950.js"><link rel="prefetch" href="/obsidian-publish/assets/ch31.html.054b22ad.js"><link rel="prefetch" href="/obsidian-publish/assets/ch32.html.25d75f30.js"><link rel="prefetch" href="/obsidian-publish/assets/ch33.html.058b06f6.js"><link rel="prefetch" href="/obsidian-publish/assets/ch34.html.61d3f411.js"><link rel="prefetch" href="/obsidian-publish/assets/ch4.html.a6691c1e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch5.html.326ac1a0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch6.html.b00c3f6a.js"><link rel="prefetch" href="/obsidian-publish/assets/ch7.html.4e35799e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch8.html.f553bf58.js"><link rel="prefetch" href="/obsidian-publish/assets/ch9.html.1abe47e0.js"><link rel="prefetch" href="/obsidian-publish/assets/part1.html.61a30e56.js"><link rel="prefetch" href="/obsidian-publish/assets/part2.html.c688cf00.js"><link rel="prefetch" href="/obsidian-publish/assets/part3.html.19a54833.js"><link rel="prefetch" href="/obsidian-publish/assets/part4.html.e97d623d.js"><link rel="prefetch" href="/obsidian-publish/assets/part5.html.59f213ed.js"><link rel="prefetch" href="/obsidian-publish/assets/part6.html.565d8d69.js"><link rel="prefetch" href="/obsidian-publish/assets/obsidainæ–‡æ¡£å¯¼å‡ºçš„æ–¹æ³•.html.8c97282e.js"><link rel="prefetch" href="/obsidian-publish/assets/ç¬”è®°åˆ†ç±»æ–¹æ³•çš„æ€è€ƒ.html.7a0981ad.js"><link rel="prefetch" href="/obsidian-publish/assets/æ‚è¯ï¼šä»æ„è¯†å½¢æ€åˆ†æè¥¿æ–¹ç–«æƒ….html.609d0549.js"><link rel="prefetch" href="/obsidian-publish/assets/è¯»æ¸…æ”¿åºœæ˜¯å¦åº”è¯¥ä¿®å»ºé“è·¯ä¸€æ–‡.html.0ce08377.js"><link rel="prefetch" href="/obsidian-publish/assets/404.html.cc115e5e.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.60ae3ce2.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.c09081fd.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.70634028.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.3b70efd7.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.f5a6049f.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.d91b9c1f.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.32852561.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.0a68a710.js"><link rel="prefetch" href="/obsidian-publish/assets/home.html.93b7cca5.js"><link rel="prefetch" href="/obsidian-publish/assets/å¯¼èˆª.html.a1c9d7de.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.0da27cdd.js"><link rel="prefetch" href="/obsidian-publish/assets/afterword.html.b850d04a.js"><link rel="prefetch" href="/obsidian-publish/assets/ch1.html.5aa5f6f6.js"><link rel="prefetch" href="/obsidian-publish/assets/ch10.html.413c371f.js"><link rel="prefetch" href="/obsidian-publish/assets/ch11.html.3cd7a242.js"><link rel="prefetch" href="/obsidian-publish/assets/ch12.html.175ce04d.js"><link rel="prefetch" href="/obsidian-publish/assets/ch13.html.fc4a1701.js"><link rel="prefetch" href="/obsidian-publish/assets/ch14.html.199a9f38.js"><link rel="prefetch" href="/obsidian-publish/assets/ch15.html.5b8799e9.js"><link rel="prefetch" href="/obsidian-publish/assets/ch16.html.20b93b21.js"><link rel="prefetch" href="/obsidian-publish/assets/ch17.html.165fc3da.js"><link rel="prefetch" href="/obsidian-publish/assets/ch18.html.4cd429e5.js"><link rel="prefetch" href="/obsidian-publish/assets/ch19.html.3e2d64e7.js"><link rel="prefetch" href="/obsidian-publish/assets/ch2.html.384a9648.js"><link rel="prefetch" href="/obsidian-publish/assets/ch21.html.58811bd6.js"><link rel="prefetch" href="/obsidian-publish/assets/ch22.html.44e934ae.js"><link rel="prefetch" href="/obsidian-publish/assets/ch23.html.d77e680e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch24.html.79a8927d.js"><link rel="prefetch" href="/obsidian-publish/assets/ch25.html.a6d9e7e0.js"><link rel="prefetch" href="/obsidian-publish/assets/ch26.html.c53b41bf.js"><link rel="prefetch" href="/obsidian-publish/assets/ch27.html.fdbedd86.js"><link rel="prefetch" href="/obsidian-publish/assets/ch28.html.8d17578d.js"><link rel="prefetch" href="/obsidian-publish/assets/ch29.html.69ad75a7.js"><link rel="prefetch" href="/obsidian-publish/assets/ch3.html.ef8bfaee.js"><link rel="prefetch" href="/obsidian-publish/assets/ch30.html.d5d16d0e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch31.html.33b5c44c.js"><link rel="prefetch" href="/obsidian-publish/assets/ch32.html.6c12ea21.js"><link rel="prefetch" href="/obsidian-publish/assets/ch33.html.7adbcd24.js"><link rel="prefetch" href="/obsidian-publish/assets/ch34.html.c7a5cd99.js"><link rel="prefetch" href="/obsidian-publish/assets/ch4.html.f4b07606.js"><link rel="prefetch" href="/obsidian-publish/assets/ch5.html.0f2533d2.js"><link rel="prefetch" href="/obsidian-publish/assets/ch6.html.c64dc16e.js"><link rel="prefetch" href="/obsidian-publish/assets/ch7.html.d8f304e4.js"><link rel="prefetch" href="/obsidian-publish/assets/ch8.html.ac3dd3f7.js"><link rel="prefetch" href="/obsidian-publish/assets/ch9.html.e8bdc588.js"><link rel="prefetch" href="/obsidian-publish/assets/part1.html.f20e95e2.js"><link rel="prefetch" href="/obsidian-publish/assets/part2.html.46fb949d.js"><link rel="prefetch" href="/obsidian-publish/assets/part3.html.37fde797.js"><link rel="prefetch" href="/obsidian-publish/assets/part4.html.e291bbe5.js"><link rel="prefetch" href="/obsidian-publish/assets/part5.html.7deee47f.js"><link rel="prefetch" href="/obsidian-publish/assets/part6.html.6126ed62.js"><link rel="prefetch" href="/obsidian-publish/assets/obsidainæ–‡æ¡£å¯¼å‡ºçš„æ–¹æ³•.html.f99ad030.js"><link rel="prefetch" href="/obsidian-publish/assets/ç¬”è®°åˆ†ç±»æ–¹æ³•çš„æ€è€ƒ.html.f2f4101a.js"><link rel="prefetch" href="/obsidian-publish/assets/æ‚è¯ï¼šä»æ„è¯†å½¢æ€åˆ†æè¥¿æ–¹ç–«æƒ….html.9eadd293.js"><link rel="prefetch" href="/obsidian-publish/assets/è¯»æ¸…æ”¿åºœæ˜¯å¦åº”è¯¥ä¿®å»ºé“è·¯ä¸€æ–‡.html.71c36bf1.js"><link rel="prefetch" href="/obsidian-publish/assets/404.html.24a96f75.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.b76fc3f0.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.ba71ba2a.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.103ba7cd.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.7d4c0d5f.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.b1a4c497.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.0c6eca16.js"><link rel="prefetch" href="/obsidian-publish/assets/index.html.394348dd.js"><link rel="prefetch" href="/obsidian-publish/assets/auto.56c9cb2e.js"><link rel="prefetch" href="/obsidian-publish/assets/index.1f644ee1.js"><link rel="prefetch" href="/obsidian-publish/assets/flowchart.parse.1479ec3f.js"><link rel="prefetch" href="/obsidian-publish/assets/mermaid.esm.min.0e041931.js"><link rel="prefetch" href="/obsidian-publish/assets/highlight.esm.9b852bc5.js"><link rel="prefetch" href="/obsidian-publish/assets/markdown.esm.77e8db25.js"><link rel="prefetch" href="/obsidian-publish/assets/math.esm.cb9d4be3.js"><link rel="prefetch" href="/obsidian-publish/assets/notes.esm.62c5f19d.js"><link rel="prefetch" href="/obsidian-publish/assets/reveal.esm.41ec5d7f.js"><link rel="prefetch" href="/obsidian-publish/assets/search.esm.04894411.js"><link rel="prefetch" href="/obsidian-publish/assets/zoom.esm.78977eba.js"><link rel="prefetch" href="/obsidian-publish/assets/VuePlayground.3cfc7758.js"><link rel="prefetch" href="/obsidian-publish/assets/photoswipe.esm.f594e77b.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/obsidian-publish/" class="brand"><img class="logo" src="/obsidian-publish/logo.svg" alt="Windily Cloud"><!----><span class="site-name hide-in-pad">Windily Cloud</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/obsidian-publish/" class="nav-link" aria-label="åšå®¢ä¸»é¡µ"><span class="icon iconfont icon-home"></span>åšå®¢ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/obsidian-publish/home.html" class="nav-link" aria-label="å›¾è°±"><span class="icon iconfont icon-home"></span>å›¾è°±<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://vuepress-theme-hope.github.io/v2/zh/" rel="noopener noreferrer" target="_blank" aria-label="ä¸»é¢˜æ–‡æ¡£" class="nav-link"><span class="icon iconfont icon-note"></span>ä¸»é¢˜æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/windily-cloud/obsidian-publish" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading clickable active"><span class="icon iconfont icon-folder"></span><a href="/obsidian-publish/" class="title">Vault</a><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-folder"></span><span class="title">è§é—»</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-folder"></span><span class="title">Obsidian</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-folder"></span><span class="title">Clean Archtechture</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/" class="nav-link sidebar-link sidebar-page" aria-label="README.md"><span class="icon iconfont icon-file"></span>README.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/afterword.html" class="nav-link sidebar-link sidebar-page" aria-label="afterword.md"><span class="icon iconfont icon-file"></span>afterword.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch1.html" class="nav-link sidebar-link sidebar-page" aria-label="ch1.md"><span class="icon iconfont icon-file"></span>ch1.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch10.html" class="nav-link sidebar-link sidebar-page" aria-label="ch10.md"><span class="icon iconfont icon-file"></span>ch10.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch11.html" class="nav-link sidebar-link sidebar-page" aria-label="ch11.md"><span class="icon iconfont icon-file"></span>ch11.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch12.html" class="nav-link sidebar-link sidebar-page" aria-label="ch12.md"><span class="icon iconfont icon-file"></span>ch12.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch13.html" class="nav-link sidebar-link sidebar-page" aria-label="ch13.md"><span class="icon iconfont icon-file"></span>ch13.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch14.html" class="nav-link sidebar-link sidebar-page" aria-label="ch14.md"><span class="icon iconfont icon-file"></span>ch14.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch15.html" class="nav-link sidebar-link sidebar-page" aria-label="ch15.md"><span class="icon iconfont icon-file"></span>ch15.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch16.html" class="nav-link sidebar-link sidebar-page" aria-label="ch16.md"><span class="icon iconfont icon-file"></span>ch16.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch17.html" class="nav-link sidebar-link sidebar-page" aria-label="ch17.md"><span class="icon iconfont icon-file"></span>ch17.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch18.html" class="nav-link sidebar-link sidebar-page" aria-label="ch18.md"><span class="icon iconfont icon-file"></span>ch18.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch19.html" class="nav-link sidebar-link sidebar-page" aria-label="ch19.md"><span class="icon iconfont icon-file"></span>ch19.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch2.html" class="nav-link sidebar-link sidebar-page" aria-label="ch2.md"><span class="icon iconfont icon-file"></span>ch2.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch20.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="ch20.md"><span class="icon iconfont icon-file"></span>ch20.md<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch20.html#entities-ä¸šåŠ¡å®ä½“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ENTITIES ä¸šåŠ¡å®ä½“"><!---->ENTITIES ä¸šåŠ¡å®ä½“<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch20.html#use-cases-ç”¨ä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="USE CASES ç”¨ä¾‹"><!---->USE CASES ç”¨ä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch20.html#request-and-response-models-è¯·æ±‚å’Œå“åº”æ¨¡å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="REQUEST AND RESPONSE MODELS è¯·æ±‚å’Œå“åº”æ¨¡å‹"><!---->REQUEST AND RESPONSE MODELS è¯·æ±‚å’Œå“åº”æ¨¡å‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch20.html#conclusion-æœ¬ç« å°ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="CONCLUSION æœ¬ç« å°ç»“"><!---->CONCLUSION æœ¬ç« å°ç»“<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch21.html" class="nav-link sidebar-link sidebar-page" aria-label="ch21.md"><span class="icon iconfont icon-file"></span>ch21.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch22.html" class="nav-link sidebar-link sidebar-page" aria-label="ch22.md"><span class="icon iconfont icon-file"></span>ch22.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch23.html" class="nav-link sidebar-link sidebar-page" aria-label="ch23.md"><span class="icon iconfont icon-file"></span>ch23.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch24.html" class="nav-link sidebar-link sidebar-page" aria-label="ch24.md"><span class="icon iconfont icon-file"></span>ch24.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch25.html" class="nav-link sidebar-link sidebar-page" aria-label="ch25.md"><span class="icon iconfont icon-file"></span>ch25.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch26.html" class="nav-link sidebar-link sidebar-page" aria-label="ch26.md"><span class="icon iconfont icon-file"></span>ch26.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch27.html" class="nav-link sidebar-link sidebar-page" aria-label="ch27.md"><span class="icon iconfont icon-file"></span>ch27.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch28.html" class="nav-link sidebar-link sidebar-page" aria-label="ch28.md"><span class="icon iconfont icon-file"></span>ch28.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch29.html" class="nav-link sidebar-link sidebar-page" aria-label="ch29.md"><span class="icon iconfont icon-file"></span>ch29.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch3.html" class="nav-link sidebar-link sidebar-page" aria-label="ch3.md"><span class="icon iconfont icon-file"></span>ch3.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch30.html" class="nav-link sidebar-link sidebar-page" aria-label="ch30.md"><span class="icon iconfont icon-file"></span>ch30.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch31.html" class="nav-link sidebar-link sidebar-page" aria-label="ch31.md"><span class="icon iconfont icon-file"></span>ch31.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch32.html" class="nav-link sidebar-link sidebar-page" aria-label="ch32.md"><span class="icon iconfont icon-file"></span>ch32.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch33.html" class="nav-link sidebar-link sidebar-page" aria-label="ch33.md"><span class="icon iconfont icon-file"></span>ch33.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch34.html" class="nav-link sidebar-link sidebar-page" aria-label="ch34.md"><span class="icon iconfont icon-file"></span>ch34.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch4.html" class="nav-link sidebar-link sidebar-page" aria-label="ch4.md"><span class="icon iconfont icon-file"></span>ch4.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch5.html" class="nav-link sidebar-link sidebar-page" aria-label="ch5.md"><span class="icon iconfont icon-file"></span>ch5.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch6.html" class="nav-link sidebar-link sidebar-page" aria-label="ch6.md"><span class="icon iconfont icon-file"></span>ch6.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch7.html" class="nav-link sidebar-link sidebar-page" aria-label="ch7.md"><span class="icon iconfont icon-file"></span>ch7.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch8.html" class="nav-link sidebar-link sidebar-page" aria-label="ch8.md"><span class="icon iconfont icon-file"></span>ch8.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch9.html" class="nav-link sidebar-link sidebar-page" aria-label="ch9.md"><span class="icon iconfont icon-file"></span>ch9.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part1.html" class="nav-link sidebar-link sidebar-page" aria-label="part1.md"><span class="icon iconfont icon-file"></span>part1.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part2.html" class="nav-link sidebar-link sidebar-page" aria-label="part2.md"><span class="icon iconfont icon-file"></span>part2.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part3.html" class="nav-link sidebar-link sidebar-page" aria-label="part3.md"><span class="icon iconfont icon-file"></span>part3.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part4.html" class="nav-link sidebar-link sidebar-page" aria-label="part4.md"><span class="icon iconfont icon-file"></span>part4.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part5.html" class="nav-link sidebar-link sidebar-page" aria-label="part5.md"><span class="icon iconfont icon-file"></span>part5.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/Clean%20Archtechture/part6.html" class="nav-link sidebar-link sidebar-page" aria-label="part6.md"><span class="icon iconfont icon-file"></span>part6.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><a href="/obsidian-publish/Publish/%E5%AF%BC%E8%88%AA.html" class="nav-link sidebar-link sidebar-page" aria-label="å¯¼èˆª.md"><span class="icon iconfont icon-file"></span>å¯¼èˆª.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Chap20. BUSINESS RULES ä¸šåŠ¡é€»è¾‘</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" localizeddate="2022å¹´9æœˆ20æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://windily-cloud.github.io" target="_blank" rel="noopener noreferrer">Windily-Cloud</a></span><span property="author" content="Windily-Cloud"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´9æœˆ20æ—¥</span><meta property="datePublished" content="2022-09-20T11:03:58.000Z"></span><!----><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" localizeddate="2022å¹´9æœˆ20æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 13 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT13M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch20.html#chap20-business-rules-ä¸šåŠ¡é€»è¾‘" class="router-link-active router-link-exact-active toc-link level1">Chap20. BUSINESS RULES ä¸šåŠ¡é€»è¾‘</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch20.html#entities-ä¸šåŠ¡å®ä½“" class="router-link-active router-link-exact-active toc-link level2">ENTITIES ä¸šåŠ¡å®ä½“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch20.html#use-cases-ç”¨ä¾‹" class="router-link-active router-link-exact-active toc-link level2">USE CASES ç”¨ä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch20.html#request-and-response-models-è¯·æ±‚å’Œå“åº”æ¨¡å‹" class="router-link-active router-link-exact-active toc-link level2">REQUEST AND RESPONSE MODELS è¯·æ±‚å’Œå“åº”æ¨¡å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/obsidian-publish/Publish/Clean%20Archtechture/ch20.html#conclusion-æœ¬ç« å°ç»“" class="router-link-active router-link-exact-active toc-link level2">CONCLUSION æœ¬ç« å°ç»“</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="chap20-business-rules-ä¸šåŠ¡é€»è¾‘" tabindex="-1"><a class="header-anchor" href="#chap20-business-rules-ä¸šåŠ¡é€»è¾‘" aria-hidden="true">#</a> Chap20. BUSINESS RULES ä¸šåŠ¡é€»è¾‘</h1><p>If we are going to divide our application into business rules and plugins, weâ€™d better get a good grasp on just what business rules actually are. It turns out there are several different kinds.</p><blockquote><p>å¦‚æœæˆ‘ä»¬è¦å°†è‡ªå·±çš„åº”ç”¨ç¨‹åºåˆ’åˆ†ä¸ºä¸šåŠ¡é€»è¾‘å’Œæ’ä»¶ä¸¤éƒ¨åˆ†ï¼Œå°±å¿…é¡»æ›´ä»”ç»†åœ°äº†è§£ä¸šåŠ¡é€»è¾‘ç©¶ç«Ÿæ˜¯ä»€ä¹ˆå®ƒåˆ°åº•æœ‰å‡ ç§ç±»å‹ã€‚</p></blockquote><p>Strictly speaking, business rules are rules or procedures that make or save the business money. Very strictly speaking, these rules would make or save the business money, irrespective of whether they were implemented on a computer. They would make or save money even if they were executed manually.</p><blockquote><p>ä¸¥æ ¼åœ°è®²ï¼Œä¸šåŠ¡é€»è¾‘å°±æ˜¯ç¨‹åºä¸­é‚£äº›çœŸæ­£ç”¨äºèµšé’±æˆ–çœé’±çš„ä¸šåŠ¡é€»è¾‘ä¸å›½äº§ã€‚æ›´ä¸¥æ ¼åœ°è®²ï¼Œæ— è®ºè¿™äº›ä¸šåŠ¡é€»è¾‘æ˜¯åœ¨è®¡ç®—æœºä¸Šå®ç°çš„ï¼Œè¿˜æ˜¯äººå·¥æ‰§è¡Œçš„ï¼Œå®ƒä»¬åœ¨çœé’±/èµšé’±ä¸Šçš„ä½œç”¨éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p></blockquote><p>The fact that a bank charges N% interest for a loan is a business rule that makes the bank money. It doesnâ€™t matter if a computer program calculates the interest, or if a clerk with an abacus calculates the interest.</p><blockquote><p>ä¾‹å¦‚ï¼Œé“¶å¼ è¡Œè¦å¯¹å€Ÿè´·æ”¶å– N% åˆ©æ¯è¿™ä¸ªé€»è¾‘å°±æ˜¯é“¶è¡Œè·å–æ”¶å…¥æ–¹é¢çš„ä¸€æ¡ä¸šåŠ¡é€»è¾‘ï¼Œå¯¹å®ƒæ¥è¯´ï¼Œæˆ‘ä»¬é€šè¿‡è®¡ç®—æœºæ¥è®¡ç®—åˆ©æ¯ï¼Œè¿˜æ˜¯è®©ä¸€ä¸ªé“¶è¡ŒèŒå‘˜ç”¨è®¡ç®—å™¨æ¥è®¡ç®—åˆ©æ¯å¹¶ä¸é‡è¦ã€‚</p></blockquote><p>We shall call these rules Critical Business Rules, because they are critical to the business itself, and would exist even if there were no system to automate them.</p><blockquote><p>æˆ‘ä»¬é€šå¸¸ç§°è¿™äº›é€»è¾‘ä¸ºâ€œå…³é”®ä¸šåŠ¡é€»è¾‘â€ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ä¸€é¡¹ä¸šåŠ¡çš„å…³é”®éƒ¨åˆ†ï¼Œä¸ç®¡æœ‰æ²¡æœ‰è‡ªåŠ¨åŒ–ç³»ç»Ÿæ¥æ‰§è¡Œè¿™é¡¹ä¸šåŠ¡ï¼Œè¿™â€”ç‚¹æ˜¯ä¸ä¼šæ”¹å˜çš„ã€‚</p></blockquote><p>Critical Business Rules usually require some data to work with. For example, our loan requires a loan balance, an interest rate, and a payment schedule.</p><blockquote><p>â€œå…³é”®ä¸šåŠ¡é€»è¾‘â€é€šå¸¸ä¼šéœ€è¦å¤„ç†ä¸€äº›æ•°æ®ï¼Œä¾‹å¦‚ï¼Œåœ¨å€Ÿè´·çš„ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å€Ÿè´·çš„æ•°é‡ã€åˆ©ç‡ä»¥åŠè¿˜æ¬¾æ—¥ç¨‹ã€‚</p></blockquote><p>We shall call this data Critical Business Data. This is the data that would exist even if the system were not automated.</p><blockquote><p>æˆ‘ä»¬å°†è¿™äº›æ•°æ®ç§°ä¸ºâ€œå…³é”®ä¸šåŠ¡æ•°æ®â€ï¼Œè¿™æ˜¯å› ä¸ºè¿™äº›æ•°æ®æ— è®ºè‡ªåŠ¨åŒ–ç¨‹åºå­˜åœ¨ä¸å¦ï¼Œéƒ½å¿…é¡»è¦å­˜åœ¨ã€‚</p></blockquote><p>The critical rules and critical data are inextricably bound, so they are a good candidate for an object. Weâ€™ll call this kind of object an Entity.1</p><blockquote><p>å…³é”®ä¸šåŠ¡é€»è¾‘å’Œå…³é”®ä¸šåŠ¡æ•°æ®æ˜¯ç´§å¯†ç›¸å…³çš„ï¼Œæ‰€ä»¥å®ƒä»¬å¾ˆé€‚åˆè¢«æ”¾åœ¨åŒä¸€ä¸ªå¯¹è±¡ä¸­å¤„ç†ã€‚æˆ‘ä»¬å°†è¿™ç§å¯¹è±¡ç§°ä¸ºâ€œä¸šåŠ¡å®ä½“ï¼ˆEntityï¼‰â€ã€‚</p></blockquote><h2 id="entities-ä¸šåŠ¡å®ä½“" tabindex="-1"><a class="header-anchor" href="#entities-ä¸šåŠ¡å®ä½“" aria-hidden="true">#</a> ENTITIES ä¸šåŠ¡å®ä½“</h2><p>An Entity is an object within our computer system that embodies a small set of critical business rules operating on Critical Business Data. The Entity object either contains the Critical Business Data or has very easy access to that data. The interface of the Entity consists of the functions that implement the Critical Business Rules that operate on that data.</p><blockquote><p>ä¸šåŠ¡å®ä½“å®é™…ä¸Šå°±æ˜¯è®¡ç®—æœºç³»ç»Ÿä¸­çš„ä¸€ç§å¯¹è±¡ï¼Œè¿™ç§å¯¹è±¡ä¸­åŒ…å«äº†ä¸€ç³»åˆ—ç”¨äºæ“ä½œå…³é”®æ•°æ®çš„ä¸šåŠ¡é€»è¾‘ã€‚è¿™äº›å®ä½“å¯¹è±¡è¦ä¹ˆç›´æ¥åŒ…å«å…³é”®ä¸šåŠ¡æ•°æ®ï¼Œè¦ä¹ˆå¯ä»¥å¾ˆå®¹æ˜“åœ°è®¿é—®è¿™äº›æ•°æ®ã€‚ä¸šåŠ¡å®ä½“çš„æ¥å£å±‚åˆ™æ˜¯ç”±é‚£äº›å®ç°å…³é”®ä¸šåŠ¡é€»è¾‘ã€æ“ä½œå…³é”®ä¸šåŠ¡æ•°æ®çš„å‡½æ•°ç»„æˆçš„ã€‚</p></blockquote><p>For example, Figure 20.1 shows what our Loan entity might look like as a class in UML. It has three pieces of Critical Business Data, and presents three related Critical Business Rules at its interface.</p><blockquote><p>ä¾‹å¦‚ï¼Œåœ¨å›¾ 20.1 ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„æ˜¯ä¸€ä¸ªå¯¹åº”äºå€Ÿè´·ä¸šåŠ¡çš„å®ä½“ç±» Loan çš„ UML å›¾ã€‚å¦‚ä½ æ‰€è§ï¼Œè¯¥ç±»ä¸­åŒ…å«äº†ä¸‰ä¸ªå…³é”®ä¸šåŠ¡æ•°æ®ï¼Œä»¥åŠä¸‰ä¸ªä»£è¡¨äº†å…¶å…³é”®ä¸šåŠ¡é€»è¾‘çš„æ¥å£ã€‚</p></blockquote><!----><p>When we create this kind of class, we are gathering together the software that implements a concept that is critical to the business, and separating it from every other concern in the automated system we are building. This class stands alone as a representative of the business. It is unsullied with concerns about databases, user interfaces, or third-party frameworks. It could serve the business in any system, irrespective of how that system was presented, or how the data was stored, or how the computers in that system were arranged. The Entity is pure business and nothing else.</p><blockquote><p>å½“æˆ‘ä»¬åˆ›å»ºè¿™æ ·ä¸€ä¸ªç±»æ—¶ï¼Œå…¶å®å°±æ˜¯åœ¨å°†è½¯ä»¶ä¸­å…·ä½“å®ç°äº†è¯¥å…³é”®ä¸šåŠ¡çš„éƒ¨åˆ†èšåˆåœ¨ä¸€èµ·ï¼Œå°†å…¶ä¸è‡ªåŠ¨åŒ–ç³»ç»Ÿä¸­æˆ‘ä»¬æ‰€æ„å»ºçš„å…¶ä»–éƒ¨åˆ†éš”ç¦»åŒºåˆ†ã€‚è¿™ä¸ªç±»ç‹¬è‡ªä»£è¡¨äº†æ•´ä¸ªä¸šåŠ¡é€»è¾‘ï¼Œå®ƒä¸æ•°æ®åº“ã€ç”¨æˆ·ç•Œé¢ã€ç¬¬ä¸‰æ–¹æ¡†æ¶ç­‰å†…å®¹æ— å…³ã€‚è¯¥ç±»å¯ä»¥åœ¨ä»»ä½•ä¸€ä¸ªç³»ç»Ÿä¸­æä¾›ä¸å…¶ä¸šåŠ¡é€»è¾‘ç›¸å…³çš„æœåŠ¡ï¼Œå®ƒä¸ä¼šå»ç®¡è¿™ä¸ªç³»ç»Ÿæ˜¯å¦‚ä½•å‘ˆç°ç»™ç”¨æˆ·çš„ï¼Œæ•°æ®æ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Œæˆ–è€…æ˜¯ä»¥ä½•ç§æ–¹å¼è¿è¡Œçš„ã€‚æ€»è€Œè¨€ä¹‹ï¼Œä¸šåŠ¡å®ä½“è¿™ä¸ªæ¦‚å¿µä¸­åº”è¯¥åªæœ‰ä¸šåŠ¡é€»è¾‘ï¼Œæ²¡æœ‰åˆ«çš„ã€‚</p></blockquote><p>Some of you may be concerned that I called it a class. Donâ€™t be. You donâ€™t need to use an object-oriented language to create an Entity. All that is required is that you bind the Critical Business Data and the Critical Business Rules together in a single and separate software module.</p><blockquote><p>æœ‰äº›è¯»è€…å¯èƒ½ä¼šæ‹…å¿ƒæˆ‘åœ¨è¿™é‡ŒæŠŠä¸šåŠ¡å®ä½“è§£é‡Šæˆä¸€ä¸ªç±»ã€‚ä¸æ˜¯è¿™æ ·çš„ï¼Œä¸šåŠ¡å®ä½“ä¸ä¸€å®šéè¦ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€çš„ç±»æ¥å®ç°ã€‚ä¸šåŠ¡å®ä½“è¿™ä¸ªæ¦‚å¿µåªè¦æ±‚æˆ‘ä»¬å°†å…³é”®ä¸šåŠ¡æ•°æ®å’Œå…³é”®ä¸šåŠ¡é€»è¾‘ç»‘å®šåœ¨ä¸€ä¸ªç‹¬ç«‹çš„è½¯ä»¶æ¨¡å—å†…ã€‚</p></blockquote><h2 id="use-cases-ç”¨ä¾‹" tabindex="-1"><a class="header-anchor" href="#use-cases-ç”¨ä¾‹" aria-hidden="true">#</a> USE CASES ç”¨ä¾‹</h2><p>Not all business rules are as pure as Entities. Some business rules make or save money for the business by defining and constraining the way that an automated system operates. These rules would not be used in a manual environment, because they make sense only as part of an automated system.</p><blockquote><p>å¹¶ä¸æ˜¯æ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘éƒ½æ˜¯ä¸€ä¸ªçº¯ç²¹çš„ä¸šåŠ¡å®ä½“ã€‚ä¾‹å¦‚ï¼Œæœ‰äº›ä¸šåŠ¡é€»è¾‘æ˜¯é€šè¿‡å®šä¹‰æˆ–é™åˆ¶è‡ªåŠ¨åŒ–ç³»ç»Ÿçš„è¿è¡Œæ–¹å¼æ¥å®ç°èµšé’±æˆ–çœé’±çš„ä¸šåŠ¡çš„ã€‚è¿™äº›ä¸šåŠ¡é€»è¾‘å°±ä¸èƒ½é äººå·¥æ¥æ‰§è¡Œï¼Œå®ƒä»¬åªæœ‰ä½œä¸ºè‡ªåŠ¨åŒ–ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†æ—¶æ‰æœ‰æ„ä¹‰ã€‚</p></blockquote><p>For example, imagine an application that is used by bank officers to create a new loan. The bank may decide that it does not want the loan officers to offer loan payment estimates until they have first gathered, and validated, contact information and ensured that the candidateâ€™s credit score is 500 or higher. For this reason, the bank may specify that the system will not proceed to the payment estimation screen until the contact information screen has been filled out and verified, and the credit score has been confirmed to be greater than the cutoff.</p><blockquote><p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªé“¶è¡ŒèŒå‘˜ä»¬ç”¨æ¥æ–°å»ºå€Ÿè´·çš„åº”ç”¨ç¨‹åºï¼Œé“¶è¡Œå¯èƒ½è®¾è®¡çš„ä¸šåŠ¡é€»è¾‘æ˜¯ï¼Œé“¶è¡ŒèŒå‘˜å¿…é¡»é¦–å…ˆæ”¶é›†ã€éªŒè¯å®¢æˆ·çš„è”ç³»ä¿¡æ¯ï¼Œç¡®ä¿å®¢æˆ·çš„ä¿¡ç”¨å€¼åœ¨ 500 ä»¥ä¸Šï¼Œç„¶åæ‰å…è®¸å‘ç”¨æˆ·æä¾›å€Ÿè´·è¿˜æ¬¾çš„é¢„ä¼°å€¼ã€‚å› æ­¤ï¼Œé“¶è¡Œå°±å¿…é¡»è¦æ±‚åœ¨è®¾è®¡å…¶è®¡ç®—æœºç³»ç»Ÿæ—¶ç¡®ä¿ä¸¤ä»¶äº‹ï¼šé¦–å…ˆï¼Œå®¢æˆ·å¿…é¡»èƒ½é€šè¿‡å±å¹•å¡«å†™æ‰€æœ‰çš„è”ç³»ä¿¡æ¯å¹¶ä¸”è®©å…¶é€šè¿‡ç›¸å…³éªŒè¯ï¼›å…¶æ¬¡ï¼Œå®¢æˆ·åªæœ‰åœ¨å…¶ä¿¡ç”¨å€¼å¤§äºæ—¢å®šé˜ˆå€¼æ—¶æ‰èƒ½è¿›å…¥è¿˜æ¬¾é¢„ä¼°é¡µã€‚</p></blockquote><p>This is a use case.2 A use case is a description of the way that an automated system is used. It specifies the input to be provided by the user, the output to be returned to the user, and the processing steps involved in producing that output. A use case describes application-specific business rules as opposed to the Critical Business Rules within the Entities.</p><blockquote><p>æˆ‘ä»¬åœ¨ä¸Šé¢æ‰€æè¿°çš„å°±æ˜¯ä¸€ä¸ªç”¨ä¾‹ï¼ˆuser caseï¼‰ã€‚ç”¨ä¾‹æœ¬è´¨ä¸Šå°±æ˜¯å…³äºå¦‚ä½•æ“ä½œä¸€ä¸ªè‡ªåŠ¨åŒ–ç³»ç»Ÿçš„æè¿°ï¼Œå®ƒå®šä¹‰äº†ç”¨æˆ·éœ€è¦æä¾›çš„è¾“å…¥æ•°æ®ã€ç”¨æˆ·åº”è¯¥å¾—åˆ°çš„è¾“å‡ºä¿¡æ¯ä»¥åŠäº§ç”Ÿè¾“å‡ºæ‰€åº”è¯¥é‡‡å–çš„å¤„ç†æ­¥éª¤ã€‚å½“ç„¶ï¼Œç”¨ä¾‹æ‰€æè¿°çš„æ˜¯æŸç§ç‰¹å®šåº”ç”¨æƒ…æ™¯ä¸‹çš„ä¸šåŠ¡é€»è¾‘ï¼Œå®ƒå¹¶éä¸šåŠ¡å®ä½“ä¸­æ‰€åŒ…å«çš„å…³é”®ä¸šåŠ¡é€»è¾‘ã€‚</p></blockquote><p>Figure 20.2 shows an example of a use case. Notice that in the last line it mentions the Customer. This is a reference to the Customer entity, which contains the Critical Business Rules that govern the relationship between the bank and its customers.</p><blockquote><p>ä¸‹é¢ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å›¾ 20.2 ä¸­çš„è¿™ä¸ªç”¨ä¾‹ã€‚è¯·æ³¨æ„ï¼Œå›¾ 20.2 çš„æœ€åä¸€è¡Œä¸­æåˆ°çš„â€œå®¢æˆ·â€ï¼Œè¿™é‡Œçš„å®¢æˆ·æ˜¯æŒ‡ä»£è¡¨å®¢æˆ·çš„ä¸šåŠ¡å®ä½“ï¼Œå…¶ä¸­åŒ…å«äº†å¤„ç†é“¶è¡Œä¸å®¢æˆ·ä¹‹é—´å…³ç³»çš„å…³é”®ä¸šåŠ¡é€»è¾‘ã€‚</p></blockquote><!----><p>Use cases contain the rules that specify how and when the Critical Business Rules within the Entities are invoked. Use cases control the dance of the Entities.</p><blockquote><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œç”¨ä¾‹ä¸­åŒ…å«äº†å¯¹å¦‚ä½•è°ƒç”¨ä¸šåŠ¡å®ä½“ä¸­çš„å…³é”®ä¸šåŠ¡é€»è¾‘çš„å®šä¹‰ã€‚ç®€è€Œè¨€ä¹‹ï¼Œç”¨ä¾‹æ§åˆ¶ç€ä¸šåŠ¡å®ä½“ä¹‹é—´çš„äº¤äº’æ–¹å¼ã€‚</p></blockquote><p>Notice also that the use case does not describe the user interface other than to informally specify the data coming in from that interface, and the data going back out through that interface. From the use case, it is impossible to tell whether the application is delivered on the web, or on a thick client, or on a console, or is a pure service.</p><blockquote><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿™é‡Œè¿˜åº”è¯¥æ³¨æ„ï¼Œç”¨ä¾‹é™¤éæ­£å¼åœ°æè¿°äº†æ•°æ®æµå…¥/æµå‡ºæ¥å£ä»¥å¤–ï¼Œå¹¶ä¸è¯¦ç»†æè¿°ç”¨æˆ·ç•Œé¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬åªçœ‹ç”¨ä¾‹ï¼Œæ˜¯æ²¡æœ‰åŠæ³•åˆ†è¾¨å‡ºç³»ç»Ÿæ˜¯åœ¨ Web å¹³å°ä¸Šäº¤ä»˜çš„ï¼Œè¿˜æ˜¯äº¤ä»˜äº†æŸç§å¸¸å®¢é—¨ç«¯ï¼›æˆ–åæ˜¯ä»¥å‘½ä»¤è¡Œæ¨¡å¼äº¤ä»˜çš„ï¼Œè¿˜æ˜¯ä»¥ä¸€ä¸ªå†…éƒ¨æœåŠ¡æ¨¡å¼äº¤ä»˜çš„ã€‚</p></blockquote><p>This is very important. Use cases do not describe how the system appears to the user. Instead, they describe the application-specific rules that govern the interaction between the users and the Entities. How the data gets in and out of the system is irrelevant to the use cases.</p><blockquote><p>è¿™æ˜¯éå¸¸é‡è¦çš„ã€‚ç”¨ä¾‹å¹¶ä¸æè¿°ç³»ç»Ÿä¸ç”¨æˆ·ä¹‹é—´çš„æ¥å£ï¼Œå®ƒåªæè¿°è¯¥åº”ç”¨åœ¨æŸäº›ç‰¹å®šæƒ…å¢ƒä¸‹çš„ä¸šåŠ¡é€»è¾‘ï¼Œè¿™äº›ä¸šåŠ¡é€»è¾‘æ‰€è§„èŒƒçš„æ˜¯ç”¨æˆ·ä¸ä¸šåŠ¡å®ä½“ä¹‹é—´çš„äº¤äº’æ–¹å¼ï¼Œå®ƒä¸æ•°æ®æµå…¥/æµå‡ºç³»ç»Ÿçš„æ–¹å¼æ— å…³ã€‚</p></blockquote><p>A use case is an object. It has one or more functions that implement the application-specific business rules. It also has data elements that include the input data, the output data, and the references to the appropriate Entities with which it interacts.</p><blockquote><p>åœ¨æˆ‘ä»¬çš„ç³»ç»Ÿä¸­ï¼Œç”¨ä¾‹æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­åŒ…å«äº†ä¸€ä¸ªæˆ–å¤šä¸ªå®ç°äº†ç‰¹å®šåº”ç”¨æƒ…æ™¯çš„ä¸šåŠ¡é€»è¾‘å‡½æ•°ã€‚å½“ç„¶é™¤æ­¤ä¹‹å¤–ï¼Œç”¨ä¾‹å¯¹è±¡ä¸­ä¹ŸåŒ…å«äº†è¾“å…¥æ•°æ®ã€è¾“å‡ºæ•°æ®ä»¥åŠç›¸å…³ä¸šåŠ¡å®ä½“çš„å¼•ç”¨ï¼Œä»¥æ–¹ä¾¿è°ƒç”¨ã€‚</p></blockquote><p>Entities have no knowledge of the use cases that control them. This is another example of the direction of the dependencies following the Dependency Inversion Principle. High-level concepts, such as Entities, know nothing of lower-level concepts, such as use cases. Instead, the lower-level use cases know about the higher-level Entities.</p><blockquote><p>å½“ç„¶ï¼Œä¸šåŠ¡å®ä½“å¹¶ä¸ä¼šçŸ¥é“æ˜¯å“ªä¸ªä¸šåŠ¡ç”¨ä¾‹åœ¨æ§åˆ¶å®ƒä»¬ï¼Œè¿™ä¹Ÿæ˜¯ä¾èµ–åè½¬åŸåˆ™ï¼ˆDIPï¼‰çš„å¦ä¸€ä¸ªåº”ç”¨æƒ…æ™¯ã€‚ä¹Ÿå°±æ˜¯åƒä¸šåŠ¡å®ä½“è¿™æ ·çš„é«˜å±‚æ¦‚å¿µæ˜¯æ— é¡»äº†è§£åƒç”¨ä¾‹è¿™æ ·çš„ä½å±‚æ¦‚å¿µçš„ã€‚åä¹‹ï¼Œä½å±‚çš„ä¸šåŠ¡ç”¨ä¾‹å´éœ€è¦äº†è§£é«˜å±‚çš„ä¸šåŠ¡å®ä½“ã€‚</p></blockquote><p>Why are Entities high level and use cases lower level? Because use cases are specific to a single application and, therefore, are closer to the inputs and outputs of that system. Entities are generalizations that can be used in many different applications, so they are farther from the inputs and outputs of the system. Use cases depend on Entities; Entities do not depend on use cases.</p><blockquote><p>é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆä¸šåŠ¡å®ä½“å±äºé«˜å±‚æ¦‚å¿µï¼Œè€Œç”¨ä¾‹å±äºä½å±‚æ¦‚å¿µå‘¢ï¼Ÿå› ä¸ºç”¨ä¾‹æè¿°çš„æ˜¯ä¸€ä¸ªç‰¹å®šçš„åº”ç”¨æƒ…æ™¯ï¼Œè¿™æ ·ä¸€æ¥ï¼Œç”¨ä¾‹å¿…ç„¶ä¼šæ›´é è¿‘ç³»ç»Ÿçš„è¾“å…¥å’Œè¾“å‡ºã€‚è€Œä¸šåŠ¡å®ä½“æ˜¯ä¸€ä¸ªå¯ä»¥é€‚ç”¨äºå¤šä¸ªåº”ç”¨æƒ…æ™¯çš„ä¸€èˆ¬åŒ–æ¦‚å¿µï¼Œç›¸å¯¹åœ°ç¦»ç³»ç»Ÿçš„è¾“å…¥å’Œè¾“å‡ºæ›´è¿œã€‚æ‰€ä»¥ï¼Œç”¨ä¾‹ä¾èµ–äºä¸šåŠ¡å®ä½“ï¼Œè€Œä¸šåŠ¡å®ä½“å¹¶ä¸ä¾èµ–äºç”¨ä¾‹ã€‚</p></blockquote><h2 id="request-and-response-models-è¯·æ±‚å’Œå“åº”æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#request-and-response-models-è¯·æ±‚å’Œå“åº”æ¨¡å‹" aria-hidden="true">#</a> REQUEST AND RESPONSE MODELS è¯·æ±‚å’Œå“åº”æ¨¡å‹</h2><p>Use cases expect input data, and they produce output data. However, a well-formed use case object should have no inkling about the way that data is communicated to the user, or to any other component. We certainly donâ€™t want the code within the use case class to know about HTML or SQL!</p><blockquote><p>åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œç”¨ä¾‹ä¼šæ¥æ”¶è¾“å…¥æ•°æ®ï¼Œå¹¶äº§ç”Ÿè¾“å‡ºæ•°æ®ã€‚ä½†åœ¨ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„æ¶æ„ä¸­ï¼Œç”¨ä¾‹å¯¹è±¡é€šå¸¸ä¸åº”è¯¥çŸ¥é“æ•°æ®å±•ç°ç»™ç”¨æˆ·æˆ–è€…å…¶ä»–ç»„ä»¶çš„æ–¹å¼ã€‚å¾ˆæ˜¾ç„¶æˆ‘ä»¬å½“ç„¶ä¸ä¼šå¸Œæœ›è¿™äº›ç”¨ä¾‹ç±»ä¸­çš„ä»£ç å‡ºç° HTML å’Œ SQLã€‚</p></blockquote><p>The use case class accepts simple request data structures for its input, and returns simple response data structures as its output. These data structures are not dependent on anything. They do not derive from standard framework interfaces such as HttpRequest and HttpResponse. They know nothing of the web, nor do they share any of the trappings of whatever user interface might be in place.</p><blockquote><p>å› æ­¤ï¼Œç”¨ä¾‹ç±»æ‰€æ¥æ”¶çš„è¾“å…¥åº”è¯¥æ˜¯ä¸€ä¸ªç®€å•çš„è¯·æ±‚æ€§æ•°æ®ç»“æ„ï¼Œè€Œè¿”å›è¾“å‡ºçš„åº”è¯¥æ˜¯ä¸€ä¸ªç®€å•çš„å“åº”æ€§æ•°æ®ç»“æ„ã€‚è¿™äº›æ•°æ®ç»“æ„ä¸­ä¸åº”è¯¥å­˜åœ¨ä»»ä½•ä¾èµ–å…³ç³»ï¼Œå®ƒä»¬å¹¶ä¸æ´¾ç”Ÿè‡ª HttpRequest å’Œ HttpRespons è¿™æ ·çš„æ ‡å‡†æ¡†æ¶æ¥å£ã€‚è¿™äº›æ•°æ®æ¥å£åº”è¯¥ä¸ Web æ— å…³ï¼Œä¹Ÿä¸åº”è¯¥äº†è§£ä»»ä½•æœ‰å…³ç”¨æˆ·ç•Œé¢çš„ç»†èŠ‚ã€‚</p></blockquote><p>This lack of dependencies is critical. If the request and response models are not independent, then the use cases that depend on them will be indirectly bound to whatever dependencies the models carry with them.</p><blockquote><p>è¿™ç§ç‹¬ç«‹æ€§éå¸¸å…³é”®ï¼Œå¦‚æœè¿™é‡Œçš„è¯·æ±‚å’Œå“åº”æ¨¡å‹ä¸æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œé‚£ä¹ˆç”¨åˆ°è¿™äº›æ¨¡å‹çš„ç”¨ä¾‹å°±ä¼šä¾èµ–äºè¿™äº›æ¨¡å‹æ‰€å¸¦æ¥çš„å„ç§ä¾èµ–å…³ç³»ã€‚</p></blockquote><p>You might be tempted to have these data structures contain references to Entity objects. You might think this makes sense because the Entities and the request/response models share so much data. Avoid this temptation! The purpose of these two objects is very different. Over time they will change for very different reasons, so tying them together in any way violates the Common Closure and Single Responsibility Principles. The result would be lots of tramp data, and lots of conditionals in your code.</p><blockquote><p>å¯èƒ½æœ‰äº›è¯»è€…ä¼šé€‰æ‹©ç›´æ¥åœ¨æ•°æ®ç»“æ„ä¸­ä½¿ç”¨å¯¹ä¸šåŠ¡å®ä½“å¯¹è±¡çš„å¼•ç”¨ã€‚æ¯•ç«Ÿï¼Œä¸šåŠ¡è¯·æ±‚å“åº”æ¨¡å‹ä¹‹é—´æœ‰å¾ˆå¤šç›¸åŒçš„æ•°æ®ã€‚ä½†è¯·ä¸€å®šä¸è¦è¿™æ ·åšï¼è¿™ä¸¤ä¸ªå¯¹è±¡å­˜åœ¨çš„æ„ä¹‰æ˜¯éå¸¸ã€éå¸¸ä¸ä¸€æ ·çš„ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡ä¼šä»¥ä¸åŒçš„åŸå› ã€ä¸åŒçš„é€Ÿç‡å‘ç”Ÿå˜æ›´ã€‚æ‰€ä»¥å°†å®ƒä»¬ä»¥ä»»ä½•æ–¹å¼æ•´åˆåœ¨ä¸€èµ·éƒ½æ˜¯å¯¹å…±åŒé—­åŒ…åŸåˆ™ï¼ˆCCPï¼‰å’Œå•ä¸€èŒè´£åŸåˆ™ï¼ˆSRPï¼‰çš„è¿åã€‚è¿™æ ·åšçš„åæœï¼Œå¾€å¾€ä¼šå¯¼è‡´ä»£ç ä¸­å‡ºç°å¾ˆå¤šåˆ†æ”¯åˆ¤æ–­è¯­å¥å’Œä¸­é—´æ•°æ®ã€‚</p></blockquote><h2 id="conclusion-æœ¬ç« å°ç»“" tabindex="-1"><a class="header-anchor" href="#conclusion-æœ¬ç« å°ç»“" aria-hidden="true">#</a> CONCLUSION æœ¬ç« å°ç»“</h2><p>Business rules are the reason a software system exists. They are the core functionality. They carry the code that makes, or saves, money. They are the family jewels.</p><blockquote><p>ä¸šåŠ¡é€»è¾‘æ˜¯ä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿå­˜åœ¨çš„æ„ä¹‰ï¼Œå®ƒä»¬å±äºæ ¸å¿ƒåŠŸèƒ½ï¼Œæ˜¯ç³»ç»Ÿç”¨æ¥èµšé’±æˆ–çœé’±çš„é‚£éƒ¨åˆ†ä»£ç ï¼Œæ˜¯æ•´ä¸ªç³»ç»Ÿä¸­çš„çš‡å† æ˜ç ã€‚</p></blockquote><p>The business rules should remain pristine, unsullied by baser concerns such as the user interface or database used. Ideally, the code that represents the business rules should be the heart of the system, with lesser concerns being plugged in to them. The business rules should be the most independent and reusable code in the system.</p><blockquote><p>è¿™äº›ä¸šåŠ¡é€»è¾‘åº”è¯¥ä¿æŒçº¯å‡€ï¼Œä¸è¦æºæ‚ç”¨æˆ·ç•Œé¢æˆ–è€…æ‰€ä½¿ç”¨çš„æ•°æ®åº“ç›¸å…³çš„ä¸œè¥¿ã€‚åœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œè¿™éƒ¨åˆ†ä»£è¡¨ä¸šåŠ¡é€»è¾‘çš„ä»£ç åº”è¯¥æ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒï¼Œå…¶ä»–ä½å±‚æ¦‚å¿µçš„å®ç°åº”è¯¥ä»¥æ’ä»¶å½¢å¼æ¥å…¥ç³»ç»Ÿä¸­ã€‚ä¸šåŠ¡é€»è¾‘åº”è¯¥æ˜¯ç³»ç»Ÿä¸­æœ€ç‹¬ç«‹ã€å¤ç”¨æ€§æœ€é«˜çš„ä»£ç ã€‚</p></blockquote></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/windily-cloud/obsidian-publish/edit/main/Publish/Publish/Clean Archtechture/ch20.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/9/20 11:11:04</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: wwww.4399li@qq.com">windilycloud</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch2.html" class="nav-link prev" aria-label="ch2.md"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><span class="icon iconfont icon-file"></span>ch2.md</div></a><a href="/obsidian-publish/Publish/Clean%20Archtechture/ch21.html" class="nav-link next" aria-label="ch21.md"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">ch21.md<span class="icon iconfont icon-file"></span></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">ä»€ä¹ˆæ˜¯å¹¸è¤”ï¼Ÿ å¹¸ç¦å°±æ˜¯çŒ«åƒé±¼ç‹—åƒè‚‰ï¼Œå¥¥ç‰¹æ›¼æ‰“å°æ€ªå…½ï¼</div><div class="copyright">Copyright Â© 2022 Windily-Cloud</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/obsidian-publish/assets/app.887b133c.js" defer></script>
  </body>
</html>
